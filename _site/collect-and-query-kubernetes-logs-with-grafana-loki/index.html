<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Collect and Query your Kubernetes Cluster Logs with Grafana Loki" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="Collecting and querying logs in Kubernetes is crucial for important applications. Grafana Loki offers a great toolset to help you out." /><meta property="og:description" content="Collecting and querying logs in Kubernetes is crucial for important applications. Grafana Loki offers a great toolset to help you out." /><link rel="canonical" href="/collect-and-query-kubernetes-logs-with-grafana-loki/" /><meta property="og:url" content="/collect-and-query-kubernetes-logs-with-grafana-loki/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-19T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Collect and Query your Kubernetes Cluster Logs with Grafana Loki" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2022-04-21T21:58:56+02:00","datePublished":"2021-07-19T00:00:00+02:00","description":"Collecting and querying logs in Kubernetes is crucial for important applications. Grafana Loki offers a great toolset to help you out.","headline":"Collect and Query your Kubernetes Cluster Logs with Grafana Loki","mainEntityOfPage":{"@type":"WebPage","@id":"/collect-and-query-kubernetes-logs-with-grafana-loki/"},"url":"/collect-and-query-kubernetes-logs-with-grafana-loki/"}</script><title>Collect and Query your Kubernetes Cluster Logs with Grafana Loki | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/mct-microsoft-certified-trainer.png" alt="MCT Microsoft Certified Trainer" width="200px" height="200px"></div><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Collect and Query your Kubernetes Cluster Logs with Grafana Loki</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1626645600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 19, 2021 </em> </span> <span> Updated <em class="" data-ts="1650571136" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 21, 2022 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="988 words"> <em>11 min</em></span> read</div></div><div class="post-content"><p>So far I have talked about the development, deployment, and configuration of microservices and Kubernetes in this series. Over the next couple of posts, I want to talk about an essential topic when it comes to running your services in production: logging and monitoring.</p><p>In this post, I will show you how to install the Grafana Loki stack and how you can query the logs of everything inside a Kubernetes cluster.</p><p>This post is part of <a href="/microservice-series-from-zero-to-hero">“Microservice Series - From Zero to Hero”</a>.</p><h2 id="the-components-of-grafana-loki"><span class="mr-2">The Components of Grafana Loki</span><a href="#the-components-of-grafana-loki" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Grafana Loki installs various components which are used for different tasks. Let’s have a look at them:</p><h3 id="grafana"><span class="mr-2">Grafana</span><a href="#grafana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Grafana is a tool to query, visualize and alert metrics. These metrics can be stored in a wide variety of data sources and can be brought into Grafana via plugins. Grafana is mostly known for its beautiful graphs to display everything you want to know about your infrastructure and applications.</p><p>You can find more details on the <a href="https://grafana.com" target="_blank" rel="noopener noreferrer">Grafana website</a>. <a href="/create-grafana-dashboards-with-prometheus-metrics">In a future post</a>, I will show you how to create your own dashboards.</p><h3 id="prometheus"><span class="mr-2">Prometheus</span><a href="#prometheus" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Prometheus is an open-source project for monitoring and alerting and is also one of the oldest projects of the Cloud Native Computing Foundation (CNCF). Some of the main features of Prometheus are:</p><ul><li>PromQL, its own flexible query language<li>a multi-dimensional data model for time series data<li>collecting logs via a pull model</ul><p>You can find more details on the <a href="https://prometheus.io" target="_blank" rel="noopener noreferrer">Prometheus website</a>. <a href="/monitor-net-microservices-with-prometheus">In my next post</a>, I will show you how to use Prometheus to collect and display metrics from your microservices and Kubernetes cluster.</p><h3 id="promtail"><span class="mr-2">Promtail</span><a href="#promtail" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Promtail is an agent for Loki. It discovers services, for example, applications inside a Kubernetes cluster or nodes of the cluster, and sends the logs to Loki. You can find more details in the <a href="https://grafana.com/docs/loki/latest/clients/promtail" target="_blank" rel="noopener noreferrer">Promtail documentation</a>.</p><h3 id="loki"><span class="mr-2">Loki</span><a href="#loki" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Loki is a highly available logging solution. It gets described by its developers as “Like Prometheus but for Logs”. It indexes the labels of the logs and allows querying of these logs using LogQL. You can find more details in the <a href="https://grafana.com/docs/loki/latest" target="_blank" rel="noopener noreferrer">Promtail documentation</a>.</p><h2 id="installing-grafana-loki-using-helm"><span class="mr-2">Installing Grafana Loki using Helm</span><a href="#installing-grafana-loki-using-helm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You can find the code of the demo on <a href="https://github.com/WolfgangOfner/MicroserviceDemo" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p>The Grafana Loki stack can be easily installed with Helm charts. If you are new to Helm, check out my previous posts <a href="/helm-getting-started">Helm - Getting Started</a> and <a href="/deploy-kubernetes-using-helm">Deploy to Kubernetes using Helm Charts</a> for more details.</p><p>Use the following code to add the Grafana Helm chart, update it and then install Loki:</p><script src="https://gist.github.com/WolfgangOfner/07bfab1dd2005f8974bbfb6c3229036e.js"></script><h3 id="installing-grafana-loki-using-an-infrastructure-as-code-pipeline"><span class="mr-2">Installing Grafana Loki using an Infrastructure as Code Pipeline</span><a href="#installing-grafana-loki-using-an-infrastructure-as-code-pipeline" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/use-infrastructure-as-code-to-deploy-infrastructure">In one of my past posts</a>, I have created an Infrastructure as Code (IaC) Pipeline using Azure CLI. If you want to automatically deploy Loki, add the following code after the Kubernetes deployment in your pipeline:</p><script src="https://gist.github.com/WolfgangOfner/2ef1d3a14d28857ace28aaee7e327215.js"></script><p>The above code adds two variables, for the version of Loki and the namespace where it gets deployed and then does basically the same as the Helm deployment in the section above.</p><h2 id="get-the-credentials-for-grafana"><span class="mr-2">Get the Credentials for Grafana</span><a href="#get-the-credentials-for-grafana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>After installing Grafana Loki, you have to read the admin password from the secrets. You can do this in PowerShell with the following code:</p><script src="https://gist.github.com/WolfgangOfner/7dea1e79d687b63e316f63e9108a9c21.js"></script><p>Use the following code when you are on Linux:</p><script src="https://gist.github.com/WolfgangOfner/5151b8b96532a0557f38a77ac0abec0e.js"></script><p>These commands get the secret for the admin password, decode it from base 64, and then print it to the console.</p><h2 id="access-grafana"><span class="mr-2">Access Grafana</span><a href="#access-grafana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Before you can access Grafana, you have to create a port forwarding to access the Grafana service. You can do this with the following code:</p><script src="https://gist.github.com/WolfgangOfner/1fab1cdfaf15e436d1bdf526402aeb59.js"></script><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/Configure-the-port-forwarding-to-access-Grafana.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/Configure-the-port-forwarding-to-access-Grafana.jpg" alt="Configure the port forwarding to access Grafana" data-proofer-ignore></a><p> Configure the port forwarding to access Grafana</p></div><p>This configuration enables you to access the Grafana dashboard using http://localhost:3000. Enter the URL into your browser and you will see the Grafana login screen.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/The-Grafana-login-screen.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/The-Grafana-login-screen.jpg" alt="The Grafana login screen" data-proofer-ignore></a><p> The Grafana login screen</p></div><p>The user name is admin and the password is what you decoded in the previous step.</p><h2 id="create-your-first-query-in-loki"><span class="mr-2">Create your first Query in Loki</span><a href="#create-your-first-query-in-loki" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>After the successful login, click on the round icon on the left and select Explore to open the query editor.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/Open-the-Loki-query-editor.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/Open-the-Loki-query-editor.jpg" alt="Open the Loki query editor" data-proofer-ignore></a><p> Open the Loki query editor</p></div><p>On the top of the page, select Loki as your data source and then you can create a simple query by clicking on Log labels. For example, select pod and then select the loki-grafana pod to query all logs from this specific pod. The query looks as follows:</p><script src="https://gist.github.com/WolfgangOfner/600e68f46638ff0190579ec53e727740.js"></script><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/Create-your-first-Loki-query.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/Create-your-first-Loki-query.jpg" alt="Create your first Loki query" data-proofer-ignore></a><p> Create your first Loki query</p></div><p>The query will display all logs from the grafana-loki pod. For more details about a log entry, click on it. You can see a successful login on the following screenshot.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/A-successful-login-got-logged.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/A-successful-login-got-logged.jpg" alt="A successful login got logged" data-proofer-ignore></a><p> A successful login got logged</p></div><h2 id="filter-your-logs"><span class="mr-2">Filter your Logs</span><a href="#filter-your-logs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Displaying all the logs is nice but not really useful. Usually, you want to filter your logs and only display problematic entries like errors. You can use the following query to display only log entries with the error level:</p><script src="https://gist.github.com/WolfgangOfner/2d5235bfeaa93ed5af16507caa398fa2.js"></script><p>This query is more useful than displaying all logs but often you also want to search for a specific log message. You can do this easily by extending the query:</p><script src="https://gist.github.com/WolfgangOfner/eaa4a122729322fdccebac6a78b3825f.js"></script><p>This query displays all error logs with an Invalid Username or Password in the log message.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2021/07/Query-only-error-logs.jpg"><img loading="lazy" data-src="/assets/img/posts/2021/07/Query-only-error-logs.jpg" alt="Query only error logs" data-proofer-ignore></a><p> Query only error logs</p></div><h2 id="logql-query-language"><span class="mr-2">LogQL Query Language</span><a href="#logql-query-language" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>All the queries above use LogQL. The examples above are just scratching the surface of what you can do with LogQL but it should be enough to get you started. For more details about LogQL, check out <a href="https://grafana.com/docs/loki/latest/logql" target="_blank" rel="noopener noreferrer">the documentation</a>.</p><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Analyzing logs is essential for every project running in a production environment. Grafana Loki offers a lot of functionality out of the box like automatically collecting logs from each object in Kubernetes and sending it to Loki where you can query and filter these logs. The examples in this post are very simple but should be enough to get you started.</p><p><a href="/monitor-net-microservices-with-prometheus">In my next post</a>, I will show you how to use Prometheus, which was also installed by Loki, to scrape metrics from the microservices.</p><p>You can find the code of the demo on <a href="https://github.com/WolfgangOfner/MicroserviceDemo" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p>This post is part of <a href="/microservice-series-from-zero-to-hero">“Microservice Series - From Zero to Hero”</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/kubernetes/'>Kubernetes</a>, <a href='/categories/cloud/'>Cloud</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/devops/" class="post-tag no-text-decoration" >DevOps</a> <a href="/tags/azure-devops/" class="post-tag no-text-decoration" >Azure DevOps</a> <a href="/tags/azure/" class="post-tag no-text-decoration" >Azure</a> <a href="/tags/nginx/" class="post-tag no-text-decoration" >Nginx</a> <a href="/tags/yaml/" class="post-tag no-text-decoration" >YAML</a> <a href="/tags/ci-cd/" class="post-tag no-text-decoration" >CI-CD</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/helm/" class="post-tag no-text-decoration" >Helm</a> <a href="/tags/aks/" class="post-tag no-text-decoration" >AKS</a> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >Kubernetes</a> <a href="/tags/logging/" class="post-tag no-text-decoration" >Logging</a> <a href="/tags/monitoring/" class="post-tag no-text-decoration" >Monitoring</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Collect+and+Query+your+Kubernetes+Cluster+Logs+with+Grafana+Loki+-+Programming+With+Wolfgang&url=%2Fcollect-and-query-kubernetes-logs-with-grafana-loki%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Collect+and+Query+your+Kubernetes+Cluster+Logs+with+Grafana+Loki+-+Programming+With+Wolfgang&u=%2Fcollect-and-query-kubernetes-logs-with-grafana-loki%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Collect+and+Query+your+Kubernetes+Cluster+Logs+with+Grafana+Loki+-+Programming+With+Wolfgang&url=%2Fcollect-and-query-kubernetes-logs-with-grafana-loki%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fcollect-and-query-kubernetes-logs-with-grafana-loki%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/deploy-kubernetes-using-helm/">Deploy to Kubernetes using Helm Charts</a><li><a href="/cqrs-in-asp-net-core-3-1/">CQRS in ASP .NET Core 3.1</a><li><a href="/mediator-pattern-in-asp-net-core-3-1/">Mediator Pattern in ASP .NET Core 3.1</a><li><a href="/rabbitmq-in-an-asp-net-core-3-1-microservice/">RabbitMQ in an ASP .NET Core 3.1 Microservice</a><li><a href="/dockerize-an-asp-net-core-microservice-and-rabbitmq/">Dockerize an ASP .NET Core Microservice and RabbitMQ</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/istio-getting-started/"><div class="card-body"> <em class="small" data-ts="1629064800" data-df="ll" > Aug 16, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Istio in Kubernetes - Getting Started</h3><div class="text-muted small"><p> My last post introduced the concept of a service mesh and how it can help to manage your Kubernetes cluster, especially with hundreds or thousands of pods running. The post was only theoretical and...</p></div></div></a></div><div class="card"> <a href="/use-istio-to-manage-your-microservices/"><div class="card-body"> <em class="small" data-ts="1629669600" data-df="ll" > Aug 23, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Use Istio to manage your Microservices</h3><div class="text-muted small"><p> In my last post, I talked about Istio and how it can be installed. I also mentioned some of the features of the service mesh but only in theory. This post will show you some features of Istio, how...</p></div></div></a></div><div class="card"> <a href="/add-Istio-to-existing-microservice-in-kubernetes/"><div class="card-body"> <em class="small" data-ts="1630274400" data-df="ll" > Aug 30, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Add Istio to an existing Microservice in Kubernetes</h3><div class="text-muted small"><p> My last post highlighted some of Istio’s features and showed how to apply them to your microservices. In this short post, I will show you how to add Istio to an existing application. This post is...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/debug-microservices-bridge-kubernetes/" class="btn btn-outline-primary" prompt="Older"><p>Debug Microservices running inside a Kubernetes Cluster with Bridge to Kubernetes</p></a> <a href="/monitor-net-microservices-with-prometheus/" class="btn btn-outline-primary" prompt="Newer"><p>Monitor .NET Microservices in Kubernetes with Prometheus</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/collect-and-query-kubernetes-logs-with-grafana-loki/'; this.page.identifier = '/collect-and-query-kubernetes-logs-with-grafana-loki/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
