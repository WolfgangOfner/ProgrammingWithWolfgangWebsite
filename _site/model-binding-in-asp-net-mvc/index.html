<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Model Binding in ASP.NET MVC" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="ASP.NET MVC creates objects using the model binding process with the data which is sent by the browser in an HTTP request. The action method parameters are created through model binding from the data in the request." /><meta property="og:description" content="ASP.NET MVC creates objects using the model binding process with the data which is sent by the browser in an HTTP request. The action method parameters are created through model binding from the data in the request." /><link rel="canonical" href="/model-binding-in-asp-net-mvc/" /><meta property="og:url" content="/model-binding-in-asp-net-mvc/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-01-22T22:53:33+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Model Binding in ASP.NET MVC" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2018-01-22T22:53:33+01:00","datePublished":"2018-01-22T22:53:33+01:00","description":"ASP.NET MVC creates objects using the model binding process with the data which is sent by the browser in an HTTP request. The action method parameters are created through model binding from the data in the request.","headline":"Model Binding in ASP.NET MVC","mainEntityOfPage":{"@type":"WebPage","@id":"/model-binding-in-asp-net-mvc/"},"url":"/model-binding-in-asp-net-mvc/"}</script><title>Model Binding in ASP.NET MVC | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "hc0wl2v6mn"); </script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/videos/" class="nav-link"> <i class="fa-fw fas fa-video ml-xl-3 mr-xl-3 unloaded"></i> <span>VIDEOS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/channel/UCmiFK5vpvsi6j6gD7W_rsVQ" aria-label="Youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Model Binding in ASP.NET MVC</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Model Binding in ASP.NET MVC</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1516658013" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 22, 2018 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1514 words"> <em>17 min</em></span> read</div></div><div class="post-content"><p>ASP.NET MVC creates objects using the model binding process with the data which is sent by the browser in an HTTP request. The action method parameters are created through model binding from the data in the request.</p><h2 id="setting-up-the-project"><span class="mr-2">Setting up the project</span><a href="#setting-up-the-project" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I created a new ASP.NET MVC project with the empty template and add folders and core references for MVC.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Set-up-project.jpg">&lt;img loading="lazy"title="Setting up the Model Binding ASP.NET MVC project" src="/assets/img/posts/2018/01/Set-up-project.jpg" alt="Setting up the Model Binding ASP.NET MVC project" /&gt;</a><p> Setting up the ASP.NET MVC project</p></div><p>Then I create a simple Home controller and a view to display some information about customers.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Home-controller-with-two-actions-for-working-with-customers.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Home-controller-with-two-actions-for-working-with-customers.jpg" alt="Home controller with two actions for working with customers" data-proofer-ignore></a><p> Home controller with two actions for working with customers</p></div><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/View-to-display-a-customer.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/View-to-display-a-customer.jpg" alt="View to display a customer" data-proofer-ignore></a><p> View to display a customer</p></div><p>I also installed the Bootstrap NuGet to make the forms look a bit nicer.</p><h2 id="how-model-binding-works"><span class="mr-2">How Model Binding works</span><a href="#how-model-binding-works" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Model binding is a simple way to connect C# code with an HTTP request. Most MVC frameworks use some form of model binding to get the data from the request for an action. If you used MVC before, it is very likely that you already used model binding, even if you didn’t realize it.</p><p>Action invokers rely on model binders to bind the data from the request to the data of the C# code. When you use a parameter for an action, model binders generate these parameters before an action is invoked. This process starts after the request is received and is processed by the routing engine. Model binders are defined by the <a href="https://msdn.microsoft.com/en-us/library/system.web.mvc.imodelbinder(v=vs.118).aspx" target="_blank" rel="noopener noreferrer">IModelBinder interface</a>.</p><p>There can be several model binder in an MVC application and you can also create your own. In this post, I will only talk about the built-in binder, DefaultModelBinder.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Displaying-customer-with-id-1.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Displaying-customer-with-id-1.jpg" alt="Displaying customer with id 1" data-proofer-ignore></a><p> Displaying customer with id 1</p></div><h3 id="searching-parameter-for-model-binding"><span class="mr-2">Searching parameter for Model Binding</span><a href="#searching-parameter-for-model-binding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>On the screenshot above, you can see that I passed a parameter in the URL. After the MVC framework received the process and did the routing, the action invoker examines the Index method and finds an int parameter. Then the model binder for int calls its BindModel method to bind the value from the URL to the method parameter. The MVC framework searches four locations for a suiting parameter. If one is found, the search is finished and the value is processed. The locations for the search are:</p><div class="table-responsive"><div class="table-wrapper"><table class="table table-striped table-bordered table-hover"><tr><td> Name<td> Description<tr><td> Request.Form<td> Values provided by the user in HTML form elements<tr><td> RouteData.Values<td> The values obtained using the application routes<tr><td> Request.QueryString<td> Data included in the query string portion of the request URL<tr><td> Request.Files<td> Files that have been uploaded as part of the request</table></div></div><p>In the example from above the model binder searches Request.Form[“id”] and then RouteData.Values[“id”]. The needed data can be found in the route information and therefore the search is finished.</p><p>Note that I am using the default route. It is also important that the variable name in the route and the parameter name are the same. If I named the parameter customerId, the model binder wouldn’t be able to match the id with the customerId.</p><h2 id="binding-primitive-data-types"><span class="mr-2">Binding primitive data types</span><a href="#binding-primitive-data-types" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When the model binder encounters a primitive data type, it tries to convert it into the needed type. If the conversion fails, an exception message is displayed because int is not nullable (except you handle the exception as I described in <a href="/built-filter-asp-net-mvc/" target="_blank" rel="noopener noreferrer">Built-in Filter in ASP.NET MVC</a>)</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Converting-exception-leading-to-yellow-screen-of-death.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Converting-exception-leading-to-yellow-screen-of-death.jpg" alt="Converting exception leading to yellow screen of death" data-proofer-ignore></a><p> Converting exception leading to yellow screen of death</p></div><p>You can prevent this from happening but you have to make sure that your code can handle the id if it is null.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Nullable-int-parameter.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Nullable-int-parameter.jpg" alt="Nullable int parameter" data-proofer-ignore></a><p> Nullable int parameter</p></div><p>An even simpler alternative is to use default parameter.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Default-value-for-the-action-parameter.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Default-value-for-the-action-parameter.jpg" alt="Default value for the action parameter" data-proofer-ignore></a><p> Default value for the action parameter</p></div><p>If the model binder can’t bind the user input to the parameter, the default value is used.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Displaying-default-customer-after-casting-failed.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Displaying-default-customer-after-casting-failed.jpg" alt="Displaying default customer after casting failed" data-proofer-ignore></a><p> Displaying default customer after casting failed</p></div><p>Default parameters prevent the application from crashing if the model binding process fails but don’t forget if the value supplied by the user is valid for your application. For example, there is probably no customer with the id -1.</p><h2 id="binding-complex-data-types"><span class="mr-2">Binding complex data types</span><a href="#binding-complex-data-types" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>If the DefaultModelBinder class encounters a complex type in the parameter, it uses reflections to get the public properties and then binds to each of them in turn.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Complex-data-type-Customer-as-action-parameter.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Complex-data-type-Customer-as-action-parameter.jpg" alt="Complex data type Customer as action parameter" data-proofer-ignore></a><p> Complex data type Customer as action parameter</p></div><p>If you use HTML Helper methods, the helper sets the name attributes of the element to match the format that the model binder uses.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Name-set-by-HTML-helper.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Name-set-by-HTML-helper.jpg" alt="Name set by HTML helper" data-proofer-ignore></a><p> Name set by HTML helper</p></div><h3 id="using-custom-prefixes"><span class="mr-2">Using custom prefixes</span><a href="#using-custom-prefixes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Sometimes you don’t want to bind the data to the type the HTML generates for you. This means that the prefixes containing the view won’t correspond to the structure that the model binder is expecting and therefore your data won’t be processed properly. For example, I have some address information in a form and pass the form to an action. This action only needs some properties and therefore I create a new class called AddressShort.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/New-action-for-address-details.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/New-action-for-address-details.jpg" alt="New action for address details" data-proofer-ignore></a><p> New action for address details</p></div><p>If you pass the Customer class with the Address property to the action, it can’t be passed and the AddressShort object will only contain null objects. The values are null because the name attributes have the prefix Address in the HTML form and the model binder is looking for this type when trying to bind the AddressShort type. You can fix this by telling the model binder which prefix it should look for with the Bind attribute in the action.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/The-Bind-attribute-in-the-action.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/The-Bind-attribute-in-the-action.jpg" alt="The Bind attribute in the action" data-proofer-ignore></a><p> The Bind attribute in the action</p></div><p>I am not a big fan of this syntax because I think it makes the code messy but it is an easy way to achieve the desired behavior. If you call the DisplayAddressShort action from the CreateCustomer action, the AddressShort object will contain the country and city of the new customer.</p><h3 id="binding-only-selected-properties"><span class="mr-2">Binding only selected properties</span><a href="#binding-only-selected-properties" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Sometimes you don’t want the user to see sensitive data. You could hide the information in the HTML or create a new view model and only send the information you want to display. A simpler solution is to tell the model binder not to bind the properties which you don’t want to display. You can tell the model binder to not bind a property by using the Exclude attribute in the action.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Action-excluding-the-city-in-the-binding-process.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Action-excluding-the-city-in-the-binding-process.jpg" alt="Action excluding the city from the binding process" data-proofer-ignore></a><p> Action excluding the city from the binding process</p></div><p>On the screenshot above, you can see that I excluded the city from being bound. Another approach would be to include the properties I want to bind with the Include attribute. You can also use the Include and Exclude property in a class. On the following screenshot, I show how to use the Include property in the model class.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Applying-the-Include-property-on-a-class.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Applying-the-Include-property-on-a-class.jpg" alt="Applying the Include property in a class" data-proofer-ignore></a><p> Applying the Include property in a class</p></div><p>If you have the Bind attribute in the class and in the action, it only binds if neither the class nor the action excludes a property.</p><h2 id="binding-to-arrays-and-collections"><span class="mr-2">Binding to Arrays and Collections</span><a href="#binding-to-arrays-and-collections" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Model binding arrays and collections are supported by the model binder and can be achieved very easily.</p><h3 id="binding-to-arrays"><span class="mr-2">Binding to Arrays</span><a href="#binding-to-arrays" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To demonstrate how binding to an array works, I create a new action which takes a string array as parameter:</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Action-with-an-array-parameter.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Action-with-an-array-parameter.jpg" alt="Action with an array parameter" data-proofer-ignore></a><p> Action with an array parameter</p></div><p>The model binder searches for all items with the name attribute countries and then create an array containing these values. Since it is not possible to assign a default value to an array, you have to check in the code whether the array is null. In this example, I let the user enter three countries, pass them as an array into the action and then return the array to display it in the view. It is important that all text boxes which take countries have the name set to countries which is the same name as the parameter. If these two don’t match, the model binder can’t bind the values to the parameter.</p><h3 id="binding-to-collections"><span class="mr-2">Binding to collections</span><a href="#binding-to-collections" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Binding to collections works as binding to arrays. I create a new action and let the user enter cities this time. The only difference is that the parameter is of type IList:</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Action-with-a-list-parameter.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Action-with-a-list-parameter.jpg" alt="Action with a list parameter" data-proofer-ignore></a><p> Action with a list parameter</p></div><p>Again, I check whether the list is null and then pass the values to the view to display them. I also changed the name of the text boxes to cities to match the list parameter.</p><h3 id="binding-collections-of-complex-data-types"><span class="mr-2">Binding collections of complex data types</span><a href="#binding-collections-of-complex-data-types" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Binding to a collection of a complex data type is not different than binding to a normal collection except the naming of the items is a bit different. The names start with the index in square brackets followed by a period and the name of the property. For example [0].City</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/01/Names-starting-with-0-to-bind-to-a-collection.jpg"><img loading="lazy" data-src="/assets/img/posts/2018/01/Names-starting-with-0-to-bind-to-a-collection.jpg" alt="Names starting with [0] to bind to a collection" data-proofer-ignore></a><p> Names starting with [0] to bind to a collection</p></div><p>After the values are sent to the action, the model binder binds the objects to the list. Starting with all items starting with [0] are added as the first object, all items starting with [1] as the second item and so on.</p><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In this post, I showed how the default model binder works and how you can bind primitive and complex data types. I also explained how to bind to arrays and collection.</p><p>For more details about model binding, I highly recommend the books <a href="http://amzn.to/2mgRbTy" target="_blank" rel="noopener noreferrer">Pro ASP.NET MVC 5</a> and <a href="http://amzn.to/2mfQ0nA" target="_blank" rel="noopener noreferrer">Pro ASP.NET MVC 5 Plattform</a>.</p><p>You can find the source code on <a href="https://github.com/WolfgangOfner/MVC-ModelBinding" target="_blank" rel="noopener noreferrer">GitHub</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/asp-net/'>ASP.NET</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/model-binding/" class="post-tag no-text-decoration" >Model Binding</a> <a href="/tags/mvc/" class="post-tag no-text-decoration" >MVC</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Model+Binding+in+ASP.NET+MVC+-+Programming+With+Wolfgang&url=%2Fmodel-binding-in-asp-net-mvc%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Model+Binding+in+ASP.NET+MVC+-+Programming+With+Wolfgang&u=%2Fmodel-binding-in-asp-net-mvc%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Model+Binding+in+ASP.NET+MVC+-+Programming+With+Wolfgang&url=%2Fmodel-binding-in-asp-net-mvc%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fmodel-binding-in-asp-net-mvc%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/routing-in-asp-net-mvc/"><div class="card-body"> <em class="small" data-ts="1515854053" data-df="ll" > Jan 13, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Routing in ASP.NET MVC</h3><div class="text-muted small"><p> Routing in ASP.NET MVC can be a really complex topic. In this post, I want to present the most used URL Patterns and explain how they work. Routing with Routes Routes can be created by adding the...</p></div></div></a></div><div class="card"> <a href="/controllers-and-actions/"><div class="card-body"> <em class="small" data-ts="1516031548" data-df="ll" > Jan 15, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Controllers and Actions</h3><div class="text-muted small"><p> In this post, I want to talk about how controllers and actions interact with each other and present several built-in functions.  The MVC Framework is endlessly customizable and extensible. As a res...</p></div></div></a></div><div class="card"> <a href="/unit-testing-controller-and-actions/"><div class="card-body"> <em class="small" data-ts="1516043413" data-df="ll" > Jan 15, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Unit Testing Controllers and Actions</h3><div class="text-muted small"><p> In my last post, I showed how to work with controllers and actions. This included passing data, return types of actions and redirects. In this post, I want to check if my implemented features work ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/asp-net-mvc-bundles/" class="btn btn-outline-primary" prompt="Older"><p>ASP.NET MVC Bundles</p></a> <a href="/model-validation-in-asp-net-mvc/" class="btn btn-outline-primary" prompt="Newer"><p>Model Validation in ASP.NET MVC</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/model-binding-in-asp-net-mvc/'; this.page.identifier = '/model-binding-in-asp-net-mvc/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
