<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Perform Configuration Management" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this post, I want to show how to use Windows PowerShell Desired State Configuration (DSC) and the VM Agent to perform various configuration management tasks like remote debugging and at the end, I will show how to use variables in a deployment template. Automate configuration management by using PowerShell Desired State Configuration (DSC) or VM Agent (custom script extensions) The VM Agent gets installed automatically when creating a new VM. It is a lightweight process which can install and configure VM extensions. These extensions can be added through the portal, with PowerShell cmdlets or through the Azure Cross Platform Command Line Interface (Azure CLI) Popular VM extensions are: Octopus Deploy Tentacle Agent Docker extension Chef extension Configure VMs with Custom Script Extension Custom Script Extensions allow you to automatically download files from Azure store and run PowerShell or Shell scripts to copy files or configure VMs. Open the blade of your Windows Server Under the Settings section, select Extensions The Extensions option under Settings &lt;/li&gt; On the Extensions blade, click + Add on the top This opens a new blade with all available extensions. Select Custom Script Extension and press Create On the install extension blade upload a PowerShell script file which you want to run when the VM starts. The PowerShell script contains only one line to copy a file from C:\ to the desktop. The entire command is: Copy-Item &#8220;FilePath&#8221; -Destination &#8220;DestinationPath&#8221;. Before I upload the script, I create the file under C:\. Adding the PowerShell script which will run when the VM starts &lt;/li&gt; Click OK and the script will be downloaded on the Server. When you start your VM, the VM executes the script which opens a Windows Explorer window. &lt;/ol&gt; &lt;/li&gt; &lt;/ol&gt; Copied the file on the desktop using the uploaded script Using PowerShell Desired State Configuration (DSC) DSC is a management platform which was introduced with PowerShell 4.0. It has an easy, declarative syntax which simplifies configuration and management tasks. With DSC it is possible to describe what application resources you want to add or remove based on the current state of a server node. A DSC describes the state of one or more resources. These resources can be the Registry or the filesystem. Tasks you can achieve with a DSC script are: Manage server roles and Windows features Copy files and folders Deploy software Run PowerShell scripts DSC extends PowerShell (4.0 and upwards) with a Configuration keyword which is used to express the desired state of one or more target nodes. Example of a DSC script Custom Resources Many resources are already defined and exposed to DSC. Additionally, it is possible to implement custom resources by creating a PowerShell module. This module includes a MOF (Managed Object Format) file, a script module, and a module manifest. Local Configuration Manager The Local Configuration Manager runs on all target notes and is the engine of DSC. It enables you to do the following tasks: Pushing configurations to bootstrap a target node Pulling configuration from a specified location to bootstrap or update a target node The documentation for the Local Configuration Manager can be found here. Configure VMs with DSC To configure a VM using DSC, you have to create a PowerShell script which describes the desired configuration state of this VM. This script selects the resources which need to be configured and provides the desired settings. After the script is created, there are several methods to run the script when the VM starts. Creating a configuration script To create a configuration script, create a PowerShell file and include all nodes which you want to configure. If you want to copy files, make sure that the file exists at the source and that the destination also exists. Deploy a DSC script Before you can deploy your DSC script, you have to pack it in a zip file. To do that open PowerShell and enter Publish-AzureVMDscConfiguration Filepath -ConfigurationArchivePath DestinationPath. Publish-AzureVMDscConfiguration .\IIS.ps1 -ConfigurationArchivePath .\IIS.ps1.zip After the script is prepared, follow these steps to deploy it to your VM: In the Azure Portal open your VM Click on Extensions under the settings menu. On the Extensions blade click + Add, then select PowerShell Desired State Configuration and click Create. On the Install extension blade, upload your zip File, enter the full name for your script and enter the desired version of the DSC extension. Click OK to deploy your script. Deploy the DSC script to your VM Enable remote debugging You can use Visual Studio 2015 or 2017 to debug applications which run on your Windows VM. To do that following these steps: Open the Cloud Explorer in Visual Studio. Expand the node of your subscription and then the Virtual Machines node. Right-click on the VM you want to debug and select Enable Debugging. This installs the debugging extension on the VM and takes a couple minutes. After the extension is installed, right-click on the VM and select Attach Debugger. This opens a new window with a list of all available processes. Select the process you want to debug and click Attach. The probably most useful process is w3.wp.exe. This process only appears if you have a web application running on your server though. Enable remote debugging on your VM in Visual Studio Implement VM template variables to configure VMs When you create a new resource, for example, a VM from the marketplace, it creates a JSON template file. You can write this template by yourself or you can download the template from an existing VM and modify it. Variables can be used to simplify your template which makes it easier to read and easier to change. They also help you with your configuration management since you only have to change one value to change the configuration for your whole template. In this section, I will edit an existing template to show, how variables can be used to simplify a template. Edit an existing template from the Azure Marketplace In the Azure Portal go to the Marketplace. Enter template in the search, then select Template deployment and click Create. On the custom deployment blade select Create a Windows virtual machine. This opens the Deploy a simple Windows VM blade. Click Edit template to open the template. When you scroll down a bit, you will find the &#8220;variables&#8221; section. All variables are configured in this section. Change any of the values or add your own variables. To use the variable use &#8220;[variables(&#8216;yourVariableName&#8217;)]&#8221;. Variables in the deployment template Conclusion In this post, I talked about what Desired State Configuration is and what you can do with it. Then, I showed how to enable remote debugging using Visual Studio 2015 or 2017 and in the last section, I explained how variables in templates work and how they can be used to simplify the template. For more information about the 70-532 exam get the Exam Ref book from Microsoft and continue reading my blog posts. I am covering all topics needed to pass the exam. You can find an overview of all posts related to the 70-532 exam here." /><meta property="og:description" content="In this post, I want to show how to use Windows PowerShell Desired State Configuration (DSC) and the VM Agent to perform various configuration management tasks like remote debugging and at the end, I will show how to use variables in a deployment template. Automate configuration management by using PowerShell Desired State Configuration (DSC) or VM Agent (custom script extensions) The VM Agent gets installed automatically when creating a new VM. It is a lightweight process which can install and configure VM extensions. These extensions can be added through the portal, with PowerShell cmdlets or through the Azure Cross Platform Command Line Interface (Azure CLI) Popular VM extensions are: Octopus Deploy Tentacle Agent Docker extension Chef extension Configure VMs with Custom Script Extension Custom Script Extensions allow you to automatically download files from Azure store and run PowerShell or Shell scripts to copy files or configure VMs. Open the blade of your Windows Server Under the Settings section, select Extensions The Extensions option under Settings &lt;/li&gt; On the Extensions blade, click + Add on the top This opens a new blade with all available extensions. Select Custom Script Extension and press Create On the install extension blade upload a PowerShell script file which you want to run when the VM starts. The PowerShell script contains only one line to copy a file from C:\ to the desktop. The entire command is: Copy-Item &#8220;FilePath&#8221; -Destination &#8220;DestinationPath&#8221;. Before I upload the script, I create the file under C:\. Adding the PowerShell script which will run when the VM starts &lt;/li&gt; Click OK and the script will be downloaded on the Server. When you start your VM, the VM executes the script which opens a Windows Explorer window. &lt;/ol&gt; &lt;/li&gt; &lt;/ol&gt; Copied the file on the desktop using the uploaded script Using PowerShell Desired State Configuration (DSC) DSC is a management platform which was introduced with PowerShell 4.0. It has an easy, declarative syntax which simplifies configuration and management tasks. With DSC it is possible to describe what application resources you want to add or remove based on the current state of a server node. A DSC describes the state of one or more resources. These resources can be the Registry or the filesystem. Tasks you can achieve with a DSC script are: Manage server roles and Windows features Copy files and folders Deploy software Run PowerShell scripts DSC extends PowerShell (4.0 and upwards) with a Configuration keyword which is used to express the desired state of one or more target nodes. Example of a DSC script Custom Resources Many resources are already defined and exposed to DSC. Additionally, it is possible to implement custom resources by creating a PowerShell module. This module includes a MOF (Managed Object Format) file, a script module, and a module manifest. Local Configuration Manager The Local Configuration Manager runs on all target notes and is the engine of DSC. It enables you to do the following tasks: Pushing configurations to bootstrap a target node Pulling configuration from a specified location to bootstrap or update a target node The documentation for the Local Configuration Manager can be found here. Configure VMs with DSC To configure a VM using DSC, you have to create a PowerShell script which describes the desired configuration state of this VM. This script selects the resources which need to be configured and provides the desired settings. After the script is created, there are several methods to run the script when the VM starts. Creating a configuration script To create a configuration script, create a PowerShell file and include all nodes which you want to configure. If you want to copy files, make sure that the file exists at the source and that the destination also exists. Deploy a DSC script Before you can deploy your DSC script, you have to pack it in a zip file. To do that open PowerShell and enter Publish-AzureVMDscConfiguration Filepath -ConfigurationArchivePath DestinationPath. Publish-AzureVMDscConfiguration .\IIS.ps1 -ConfigurationArchivePath .\IIS.ps1.zip After the script is prepared, follow these steps to deploy it to your VM: In the Azure Portal open your VM Click on Extensions under the settings menu. On the Extensions blade click + Add, then select PowerShell Desired State Configuration and click Create. On the Install extension blade, upload your zip File, enter the full name for your script and enter the desired version of the DSC extension. Click OK to deploy your script. Deploy the DSC script to your VM Enable remote debugging You can use Visual Studio 2015 or 2017 to debug applications which run on your Windows VM. To do that following these steps: Open the Cloud Explorer in Visual Studio. Expand the node of your subscription and then the Virtual Machines node. Right-click on the VM you want to debug and select Enable Debugging. This installs the debugging extension on the VM and takes a couple minutes. After the extension is installed, right-click on the VM and select Attach Debugger. This opens a new window with a list of all available processes. Select the process you want to debug and click Attach. The probably most useful process is w3.wp.exe. This process only appears if you have a web application running on your server though. Enable remote debugging on your VM in Visual Studio Implement VM template variables to configure VMs When you create a new resource, for example, a VM from the marketplace, it creates a JSON template file. You can write this template by yourself or you can download the template from an existing VM and modify it. Variables can be used to simplify your template which makes it easier to read and easier to change. They also help you with your configuration management since you only have to change one value to change the configuration for your whole template. In this section, I will edit an existing template to show, how variables can be used to simplify a template. Edit an existing template from the Azure Marketplace In the Azure Portal go to the Marketplace. Enter template in the search, then select Template deployment and click Create. On the custom deployment blade select Create a Windows virtual machine. This opens the Deploy a simple Windows VM blade. Click Edit template to open the template. When you scroll down a bit, you will find the &#8220;variables&#8221; section. All variables are configured in this section. Change any of the values or add your own variables. To use the variable use &#8220;[variables(&#8216;yourVariableName&#8217;)]&#8221;. Variables in the deployment template Conclusion In this post, I talked about what Desired State Configuration is and what you can do with it. Then, I showed how to enable remote debugging using Visual Studio 2015 or 2017 and in the last section, I explained how variables in templates work and how they can be used to simplify the template. For more information about the 70-532 exam get the Exam Ref book from Microsoft and continue reading my blog posts. I am covering all topics needed to pass the exam. You can find an overview of all posts related to the 70-532 exam here." /><link rel="canonical" href="https://www.programmingwithwolfgang.com/perform-configuration-management/" /><meta property="og:url" content="https://www.programmingwithwolfgang.com/perform-configuration-management/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-03-06T12:21:11+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Perform Configuration Management" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.programmingwithwolfgang.com/perform-configuration-management/"},"author":{"@type":"Person","name":"Wolfgang Ofner"},"url":"https://www.programmingwithwolfgang.com/perform-configuration-management/","description":"In this post, I want to show how to use Windows PowerShell Desired State Configuration (DSC) and the VM Agent to perform various configuration management tasks like remote debugging and at the end, I will show how to use variables in a deployment template. Automate configuration management by using PowerShell Desired State Configuration (DSC) or VM Agent (custom script extensions) The VM Agent gets installed automatically when creating a new VM. It is a lightweight process which can install and configure VM extensions. These extensions can be added through the portal, with PowerShell cmdlets or through the Azure Cross Platform Command Line Interface (Azure CLI) Popular VM extensions are: Octopus Deploy Tentacle Agent Docker extension Chef extension Configure VMs with Custom Script Extension Custom Script Extensions allow you to automatically download files from Azure store and run PowerShell or Shell scripts to copy files or configure VMs. Open the blade of your Windows Server Under the Settings section, select Extensions The Extensions option under Settings &lt;/li&gt; On the Extensions blade, click + Add on the top This opens a new blade with all available extensions. Select Custom Script Extension and press Create On the install extension blade upload a PowerShell script file which you want to run when the VM starts. The PowerShell script contains only one line to copy a file from C:\\ to the desktop. The entire command is: Copy-Item &#8220;FilePath&#8221; -Destination &#8220;DestinationPath&#8221;. Before I upload the script, I create the file under C:\\. Adding the PowerShell script which will run when the VM starts &lt;/li&gt; Click OK and the script will be downloaded on the Server. When you start your VM, the VM executes the script which opens a Windows Explorer window. &lt;/ol&gt; &lt;/li&gt; &lt;/ol&gt; Copied the file on the desktop using the uploaded script Using PowerShell Desired State Configuration (DSC) DSC is a management platform which was introduced with PowerShell 4.0. It has an easy, declarative syntax which simplifies configuration and management tasks. With DSC it is possible to describe what application resources you want to add or remove based on the current state of a server node. A DSC describes the state of one or more resources. These resources can be the Registry or the filesystem. Tasks you can achieve with a DSC script are: Manage server roles and Windows features Copy files and folders Deploy software Run PowerShell scripts DSC extends PowerShell (4.0 and upwards) with a Configuration keyword which is used to express the desired state of one or more target nodes. Example of a DSC script Custom Resources Many resources are already defined and exposed to DSC. Additionally, it is possible to implement custom resources by creating a PowerShell module. This module includes a MOF (Managed Object Format) file, a script module, and a module manifest. Local Configuration Manager The Local Configuration Manager runs on all target notes and is the engine of DSC. It enables you to do the following tasks: Pushing configurations to bootstrap a target node Pulling configuration from a specified location to bootstrap or update a target node The documentation for the Local Configuration Manager can be found here. Configure VMs with DSC To configure a VM using DSC, you have to create a PowerShell script which describes the desired configuration state of this VM. This script selects the resources which need to be configured and provides the desired settings. After the script is created, there are several methods to run the script when the VM starts. Creating a configuration script To create a configuration script, create a PowerShell file and include all nodes which you want to configure. If you want to copy files, make sure that the file exists at the source and that the destination also exists. Deploy a DSC script Before you can deploy your DSC script, you have to pack it in a zip file. To do that open PowerShell and enter Publish-AzureVMDscConfiguration Filepath -ConfigurationArchivePath DestinationPath. Publish-AzureVMDscConfiguration .\\IIS.ps1 -ConfigurationArchivePath .\\IIS.ps1.zip After the script is prepared, follow these steps to deploy it to your VM: In the Azure Portal open your VM Click on Extensions under the settings menu. On the Extensions blade click + Add, then select PowerShell Desired State Configuration and click Create. On the Install extension blade, upload your zip File, enter the full name for your script and enter the desired version of the DSC extension. Click OK to deploy your script. Deploy the DSC script to your VM Enable remote debugging You can use Visual Studio 2015 or 2017 to debug applications which run on your Windows VM. To do that following these steps: Open the Cloud Explorer in Visual Studio. Expand the node of your subscription and then the Virtual Machines node. Right-click on the VM you want to debug and select Enable Debugging. This installs the debugging extension on the VM and takes a couple minutes. After the extension is installed, right-click on the VM and select Attach Debugger. This opens a new window with a list of all available processes. Select the process you want to debug and click Attach. The probably most useful process is w3.wp.exe. This process only appears if you have a web application running on your server though. Enable remote debugging on your VM in Visual Studio Implement VM template variables to configure VMs When you create a new resource, for example, a VM from the marketplace, it creates a JSON template file. You can write this template by yourself or you can download the template from an existing VM and modify it. Variables can be used to simplify your template which makes it easier to read and easier to change. They also help you with your configuration management since you only have to change one value to change the configuration for your whole template. In this section, I will edit an existing template to show, how variables can be used to simplify a template. Edit an existing template from the Azure Marketplace In the Azure Portal go to the Marketplace. Enter template in the search, then select Template deployment and click Create. On the custom deployment blade select Create a Windows virtual machine. This opens the Deploy a simple Windows VM blade. Click Edit template to open the template. When you scroll down a bit, you will find the &#8220;variables&#8221; section. All variables are configured in this section. Change any of the values or add your own variables. To use the variable use &#8220;[variables(&#8216;yourVariableName&#8217;)]&#8221;. Variables in the deployment template Conclusion In this post, I talked about what Desired State Configuration is and what you can do with it. Then, I showed how to enable remote debugging using Visual Studio 2015 or 2017 and in the last section, I explained how variables in templates work and how they can be used to simplify the template. For more information about the 70-532 exam get the Exam Ref book from Microsoft and continue reading my blog posts. I am covering all topics needed to pass the exam. You can find an overview of all posts related to the 70-532 exam here.","@type":"BlogPosting","headline":"Perform Configuration Management","dateModified":"2020-11-25T18:17:18+01:00","datePublished":"2018-03-06T12:21:11+01:00","@context":"https://schema.org"}</script><title>Perform Configuration Management | Programming With Wolfgang</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/author/wolfgang-small.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/wolfgangofner" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@')" aria-label="email" class="order-6" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-7" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Perform Configuration Management</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Perform Configuration Management</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Perform Configuration Management</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Mar 6, 2018, 12:21 PM +0100" > Mar 6, 2018 <i class="unloaded">2018-03-06T12:21:11+01:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Nov 25, 2020, 6:17 PM +0100" > Nov 25, 2020 <i class="unloaded">2020-11-25T18:17:18+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1170 words">13 min</span></div></div><div class="post-content"><p>In this post, I want to show how to use Windows PowerShell Desired State Configuration (DSC) and the VM Agent to perform various configuration management tasks like remote debugging and at the end, I will show how to use variables in a deployment template.</p><h2 id="automate-configuration-management-by-using-powershell-desired-state-configuration-dsc-or-vm-agent-custom-script-extensions">Automate configuration management by using PowerShell Desired State Configuration (DSC) or VM Agent (custom script extensions)</h2><p>The VM Agent gets installed automatically when creating a new VM. It is a lightweight process which can install and configure VM extensions. These extensions can be added through the portal, with PowerShell cmdlets or through the Azure Cross Platform Command Line Interface (Azure CLI)</p><p>Popular VM extensions are:</p><ul><li>Octopus Deploy Tentacle Agent<li>Docker extension<li>Chef extension</ul><h3 id="configure-vms-with-custom-script-extension">Configure VMs with Custom Script Extension</h3><p>Custom Script Extensions allow you to automatically download files from Azure store and run PowerShell or Shell scripts to copy files or configure VMs.</p><li style="list-style-type: none;"><ol><li> Open the blade of your Windows Server<li> Under the Settings section, select Extensions<p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/02/The-Extensions-option-under-Settings.jpg"><img loading="lazy" src="/assets/img/posts/2018/02/The-Extensions-option-under-Settings.jpg" alt="The Extensions option under Settings" /></a><p> The Extensions option under Settings</p></div>&lt;/li&gt;<li> On the Extensions blade, click + Add on the top<li> This opens a new blade with all available extensions. Select Custom Script Extension and press Create<li> On the install extension blade upload a PowerShell script file which you want to run when the VM starts. The PowerShell script contains only one line to copy a file from C:\ to the desktop. The entire command is: Copy-Item &#8220;FilePath&#8221; -Destination &#8220;DestinationPath&#8221;. Before I upload the script, I create the file under C:\.<p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/02/Adding-the-PowerShell-script-which-will-run-when-the-VM-starts.jpg"><img loading="lazy" src="/assets/img/posts/2018/02/Adding-the-PowerShell-script-which-will-run-when-the-VM-starts.jpg" alt="Adding the PowerShell script which will run when the VM starts" /></a><p> Adding the PowerShell script which will run when the VM starts</p></div>&lt;/li&gt;<li> Click OK and the script will be downloaded on the Server.<li> When you start your VM, the VM executes the script which opens a Windows Explorer window. &lt;/ol&gt; &lt;/li&gt; &lt;/ol&gt;<div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/03/Copied-the-file-on-the-desktop-using-the-uploaded-script.jpg"><img loading="lazy" src="/assets/img/posts/2018/03/Copied-the-file-on-the-desktop-using-the-uploaded-script.jpg" alt="Copied the file on the desktop using the uploaded script" /></a><p> Copied the file on the desktop using the uploaded script</p></div><h2> Using PowerShell Desired State Configuration (DSC)</h2><p> DSC is a management platform which was introduced with PowerShell 4.0. It has an easy, declarative syntax which simplifies configuration and management tasks. With DSC it is possible to describe what application resources you want to add or remove based on the current state of a server node. A DSC describes the state of one or more resources. These resources can be the Registry or the filesystem. Tasks you can achieve with a DSC script are:</p><ul><li> Manage server roles and Windows features<li> Copy files and folders<li> Deploy software<li> Run PowerShell scripts</ul><p> DSC extends PowerShell (4.0 and upwards) with a Configuration keyword which is used to express the desired state of one or more target nodes.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/03/Example-of-a-DSC-script.jpg"><img loading="lazy" src="/assets/img/posts/2018/03/Example-of-a-DSC-script.jpg" alt="Example of a DSC script for the configuration management" /></a><p> Example of a DSC script</p></div><h3> Custom Resources</h3><p> Many resources are already defined and exposed to DSC. Additionally, it is possible to implement custom resources by creating a PowerShell module. This module includes a MOF (Managed Object Format) file, a script module, and a module manifest.</p><h3> Local Configuration Manager</h3><p> The Local Configuration Manager runs on all target notes and is the engine of DSC. It enables you to do the following tasks:</p><ul><li> Pushing configurations to bootstrap a target node<li> Pulling configuration from a specified location to bootstrap or update a target node</ul><p> The documentation for the Local Configuration Manager can be found <a href="https://docs.microsoft.com/en-us/powershell/scripting/dsc/managing-nodes/metaconfig?view=powershell-7.1" target="_blank" rel="noopener noreferrer">here</a>.</p><h2> Configure VMs with DSC</h2><p> To configure a VM using DSC, you have to create a PowerShell script which describes the desired configuration state of this VM. This script selects the resources which need to be configured and provides the desired settings. After the script is created, there are several methods to run the script when the VM starts.</p><h3> Creating a configuration script</h3><p> To create a configuration script, create a PowerShell file and include all nodes which you want to configure. If you want to copy files, make sure that the file exists at the source and that the destination also exists.</p><h3> Deploy a DSC script</h3><p> Before you can deploy your DSC script, you have to pack it in a zip file. To do that open PowerShell and enter Publish-AzureVMDscConfiguration Filepath -ConfigurationArchivePath DestinationPath.</p><p> <br /> Publish-AzureVMDscConfiguration .\IIS.ps1 -ConfigurationArchivePath .\IIS.ps1.zip<br /></p><p> After the script is prepared, follow these steps to deploy it to your VM:</p><ol><li> In the Azure Portal open your VM<li> Click on Extensions under the settings menu.<li> On the Extensions blade click + Add, then select PowerShell Desired State Configuration and click Create.<li> On the Install extension blade, upload your zip File, enter the full name for your script and enter the desired version of the DSC extension.<li> Click OK to deploy your script.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/03/Deploy-the-DSC-script-to-your-VM.jpg"><img loading="lazy" src="/assets/img/posts/2018/03/Deploy-the-DSC-script-to-your-VM.jpg" alt="Deploy the DSC script to your VM" /></a><p> Deploy the DSC script to your VM</p></div><h2> Enable remote debugging</h2><p> You can use Visual Studio 2015 or 2017 to debug applications which run on your Windows VM. To do that following these steps:</p><ol><li> Open the Cloud Explorer in Visual Studio.<li> Expand the node of your subscription and then the Virtual Machines node.<li> Right-click on the VM you want to debug and select Enable Debugging. This installs the debugging extension on the VM and takes a couple minutes.<li> After the extension is installed, right-click on the VM and select Attach Debugger. This opens a new window with a list of all available processes.<li> Select the process you want to debug and click Attach. The probably most useful process is w3.wp.exe. This process only appears if you have a web application running on your server though.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/03/Enable-remote-debugging-on-your-VM-in-Visual-Studio.jpg"><img loading="lazy" src="/assets/img/posts/2018/03/Enable-remote-debugging-on-your-VM-in-Visual-Studio.jpg" alt="Enable remote debugging on your VM in Visual Studio" /></a><p> Enable remote debugging on your VM in Visual Studio</p></div><h2> Implement VM template variables to configure VMs</h2><p> When you create a new resource, for example, a VM from the marketplace, it creates a JSON template file. You can write this template by yourself or you can download the template from an existing VM and modify it. Variables can be used to simplify your template which makes it easier to read and easier to change. They also help you with your configuration management since you only have to change one value to change the configuration for your whole template. In this section, I will edit an existing template to show, how variables can be used to simplify a template.</p><h3> Edit an existing template from the Azure Marketplace</h3><ol><li> In the Azure Portal go to the Marketplace.<li> Enter template in the search, then select Template deployment and click Create.<li> On the custom deployment blade select Create a Windows virtual machine. This opens the Deploy a simple Windows VM blade.<li> Click Edit template to open the template.<li> When you scroll down a bit, you will find the &#8220;variables&#8221; section. All variables are configured in this section. Change any of the values or add your own variables.<li> To use the variable use &#8220;[variables(&#8216;yourVariableName&#8217;)]&#8221;.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/03/Variables-in-the-deployment-template.jpg"><img loading="lazy" src="/assets/img/posts/2018/03/Variables-in-the-deployment-template.jpg" alt="Variables in the deployment template" /></a><p> Variables in the deployment template</p></div><h2> Conclusion</h2><p> In this post, I talked about what Desired State Configuration is and what you can do with it. Then, I showed how to enable remote debugging using Visual Studio 2015 or 2017 and in the last section, I explained how variables in templates work and how they can be used to simplify the template.</p><p> For more information about the 70-532 exam get the <a href="http://amzn.to/2EWNWMF" target="_blank" rel="noopener noreferrer">Exam Ref book from Microsoft</a> and continue reading my blog posts. I am covering all topics needed to pass the exam. You can find an overview of all posts related to the 70-532 exam <a href="/prepared-for-the-70-532-exam/" target="_blank" rel="noopener noreferrer">here</a>.</p></p></p></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/cloud/'>Cloud</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/70-532/" class="post-tag no-text-decoration" >70-532</a> <a href="/tags/azure/" class="post-tag no-text-decoration" >Azure</a> <a href="/tags/certification/" class="post-tag no-text-decoration" >Certification</a> <a href="/tags/exam/" class="post-tag no-text-decoration" >Exam</a> <a href="/tags/learning/" class="post-tag no-text-decoration" >Learning</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Perform Configuration Management - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/perform-configuration-management/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Perform Configuration Management - Programming With Wolfgang&u=https://www.programmingwithwolfgang.com/perform-configuration-management/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Perform Configuration Management - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/perform-configuration-management/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.programmingwithwolfgang.com/perform-configuration-management/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/microservice-series-from-zero-to-hero/">Microservice Series - From Zero to Hero</a><li><a href="/azure-kubernetes-service-getting-started/">Azure Kubernetes Service - Getting Started</a><li><a href="/analyze-software-architecture-ndepend/">Analyze Software Architecture with NDepend</a><li><a href="/automatically-deploy-database-changes/">Automatically deploy Database Changes with SSDT</a><li><a href="/helm-getting-started/">Helm - Getting Started</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/70-532/">70-532</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/certification/">Certification</a> <a class="post-tag" href="/tags/exam/">Exam</a> <a class="post-tag" href="/tags/net-core/">NET Core</a> <a class="post-tag" href="/tags/ci/">CI</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/implement-azure-storage-blobs-and-azure-files/"><div class="card-body"> <span class="timeago small" > Apr 8, 2018 <i class="unloaded">2018-04-08T11:17:44+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Implement Azure Storage blobs and Azure files</h3><div class="text-muted small"><p> Azure provides several methods of storing files, including Azure Storage blobs and Azure Files. In this post, I want to talk about the differences between them and how to use them. Azure Storage b...</p></div></div></a></div><div class="card"> <a href="/implement-azure-storage-tables-queues-and-azure-cosmos-db-table-api/"><div class="card-body"> <span class="timeago small" > Apr 10, 2018 <i class="unloaded">2018-04-10T12:40:08+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Implement Azure Storage Tables, Queues, and Azure Cosmos DB Table API</h3><div class="text-muted small"><p> Azure Storage Tables can store tabular data at petabyte scale. Azure Queue storage is used to provide messaging between application components, as they can be de-coupled and scaled individually. A...</p></div></div></a></div><div class="card"> <a href="/manage-access-and-monitor-storage/"><div class="card-body"> <span class="timeago small" > Apr 18, 2018 <i class="unloaded">2018-04-18T09:54:09+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Manage access and monitor storage</h3><div class="text-muted small"><p> Azure Storage has a built-in analytics feature called Azure Storage Analytics used for collecting metrics and logging storage request activity. Storage Analytics Metrics are used to collect aggrega...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/deploy-workload-on-azure-arm-virtual-machines/" class="btn btn-outline-primary"><p>Deploy workload on Azure ARM virtual machines</p></a> <a href="/scale-arm-virtual-machines/" class="btn btn-outline-primary"><p>Scale ARM Virtual Machines</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://www.programmingwithwolfgang.com/perform-configuration-management/'; this.page.identifier = '/perform-configuration-management/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/70-532/">70 532</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/certification/">Certification</a> <a class="post-tag" href="/tags/exam/">Exam</a> <a class="post-tag" href="/tags/net-core/">NET Core</a> <a class="post-tag" href="/tags/ci/">CI</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.programmingwithwolfgang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
