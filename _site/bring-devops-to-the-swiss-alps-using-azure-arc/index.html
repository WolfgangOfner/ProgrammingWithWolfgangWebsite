<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="Explore the integration of on-premises Kubernetes clusters with Azure Arc for efficient management, automated deployments, and monitoring." /><meta property="og:description" content="Explore the integration of on-premises Kubernetes clusters with Azure Arc for efficient management, automated deployments, and monitoring." /><link rel="canonical" href="/bring-devops-to-the-swiss-alps-using-azure-arc/" /><meta property="og:url" content="/bring-devops-to-the-swiss-alps-using-azure-arc/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-03-04T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2024-03-04T00:00:00+01:00","datePublished":"2024-03-04T00:00:00+01:00","description":"Explore the integration of on-premises Kubernetes clusters with Azure Arc for efficient management, automated deployments, and monitoring.","headline":"Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024","mainEntityOfPage":{"@type":"WebPage","@id":"/bring-devops-to-the-swiss-alps-using-azure-arc/"},"url":"/bring-devops-to-the-swiss-alps-using-azure-arc/"}</script><title>Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024 | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "hc0wl2v6mn"); </script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/videos/" class="nav-link"> <i class="fa-fw fas fa-video ml-xl-3 mr-xl-3 unloaded"></i> <span>VIDEOS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/channel/UCmiFK5vpvsi6j6gD7W_rsVQ" aria-label="Youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Bring DevOps to the Swiss Alps using Azure Arc - Azure Spring Clean 2024</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1709506800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Mar 4, 2024 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3416 words"> <em>40 min</em></span> read</div></div><div class="post-content"><p>In my capacity as a Cloud Consultant in Switzerland, I had the opportunity to assist a client in developing a proof of concept for an intelligent ropeway system. The objective of this proof of concept was to assess potential technical strategies for managing an on-premises Kubernetes cluster, with a focus on ensuring secure and automated deployments.</p><p>This post is part of <a href="/manage-on-premises-kubernetes-with-azure-arc">“Azure Arc Series - Manage an on-premises Kubernetes Cluster with Azure Arc”</a>.</p><h2 id="project-overview-autonomous-ropeway-system"><span class="mr-2">Project Overview: “Autonomous Ropeway System”</span><a href="#project-overview-autonomous-ropeway-system" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Before diving into the specifics of the project, it is essential to understand what a ropeway system entails. In Switzerland, ropeway systems are a common sight on virtually every mountain. They serve as a means of transportation for hikers in the summer and skiers in the winter. Recently, ropeway systems have gained popularity in urban settings as an innovative mode of transport that also offers sightseeing opportunities. Cities like Lisbon and Barcelona serve as prime examples of this trend. A typical ropeway vehicle, as shown in the image below, can accommodate between 4 and 12 passengers and often feature an external cage or structure for transporting bikes or skis up the mountain.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/A-ropeway-vehicle.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/A-ropeway-vehicle.jpg" alt="A ropeway vehicle in Switzerland" data-proofer-ignore></a><p> A ropeway vehicle in Switzerland</p></div><p>The “Autonomous Ropeway System” project aims to address several inefficiencies inherent in traditional ropeway systems:</p><ul><li>The labor-intensive process of manually placing vehicles on the rope in the morning and returning them to the garage in the evening lacks flexibility. For instance, if the weather deteriorates in the afternoon following a clear morning, many vehicles remain unused on the rope, leading to unnecessary wear and tear.<li>Conventional ropeway systems typically operate between a single starting point and endpoint, with occasional stopovers. A smart system could enable vehicles to calculate a route through a network, allowing passengers to travel from one valley station to multiple mountain peaks, or in a city, to any desired destination without the need to switch lines.</ul><p>The “Autonomous Ropeway System” project seeks to achieve the following objectives:</p><ul><li>Enable ropeway vehicles to autonomously exit the garage when required and return when no longer needed.<li>Equip smart vehicles with the capability to navigate through a network.<li>Reduce operational costs by minimizing wear and tear and energy consumption through the use of only necessary vehicles.<li>Operate 24/7 with minimal human intervention, thereby further reducing operational costs and enhancing availability for passengers.</ul><h3 id="external-constraints-and-preliminary-challenges"><span class="mr-2">External Constraints and Preliminary Challenges</span><a href="#external-constraints-and-preliminary-challenges" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>he project involves two primary stakeholders: the ropeway manufacturer and the company responsible for the ropeway system’s control units (my client). As such, we were presented with the following non-negotiable requirements:</p><ul><li>Utilization of existing on-premises hardware<li>Prohibition of inbound traffic, which implies:<ul><li>No connection from Azure DevOps for deployment purposes<li>Developers are unable to connect to the cluster for troubleshooting<li>The question arises: How can logs be collected from the Kubernetes cluster?<li>Neither VPN nor ExpressRoute connections are permitted</ul></ul><p>The accompanying diagram provides a network overview. The Kubernetes cluster can access the container registry via the firewall. However, the firewall blocks all incoming traffic, including that from Azure DevOps or developers.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Network-overview.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Network-overview.jpg" alt="Network overview" data-proofer-ignore></a><p> Network overview</p></div><h3 id="proof-of-concept-evaluation"><span class="mr-2">Proof of Concept Evaluation</span><a href="#proof-of-concept-evaluation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The ropeway system’s manufacturer constructed a full-scale station within one of its production halls to facilitate the testing of our application. This was a standout aspect of the project for me, as my work typically revolves around software-only projects and seldom involves hardware interaction. However, with this setup, I was able to initiate vehicle movement or door opening with a simple click in our software. The station is depicted in the two screenshots provided.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Testing-the-application-with-a-real-ropeway-system.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Testing-the-application-with-a-real-ropeway-system.jpg" alt="Testing the application with a real ropeway system" data-proofer-ignore></a><p> Testing the application with a real ropeway system</p></div><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-entrance-of-the-ropeway-system.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-entrance-of-the-ropeway-system.jpg" alt="The entrance of the ropeway system" data-proofer-ignore></a><p> The entrance of the ropeway system</p></div><p>The second screenshot offers a glimpse into the user experience of the ropeway system. Initially, passengers must specify their destination using the destination dispatch system. This might be familiar to those who have used elevators in shopping malls or airports, where you may select your desired floor, and the system directs you to the appropriate elevator.</p><p>Once the destination is selected, pertinent information is displayed above the vehicle’s entrance. For instance, in the right red box, you can see that the destination is “Ils Cugns”, the journey will take 15 minutes, and the vehicle can accommodate 10 passengers.</p><h2 id="azure-arc-integration"><span class="mr-2">Azure Arc Integration</span><a href="#azure-arc-integration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Azure Arc facilitates the projection of infrastructure operating outside of Azure into the Azure environment. This includes not only on-premises infrastructure but also infrastructure hosted on other cloud platforms such as AWS or GCP. By projecting this infrastructure into Azure, you can leverage Azure’s management tools, thereby unifying the management of on-premises and cloud resources.</p><p>Azure Arc supports the management of the following types of infrastructure:</p><ul><li>Linux and Windows VMs, as well as bare metal servers<li>Any Kubernetes distribution certified by the CNCF (Cloud Native Computing Foundation)<li>Microsoft SQL Server</ul><p>Upon installing the Azure Arc agent on your on-premises infrastructure, it becomes visible within the Azure Arc service in the Azure portal. The screenshot below illustrates two Kubernetes clusters managed via Azure Arc. On the left, you can see the various infrastructure options available, including Azure Stack HCI and VMware vCenters.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Azure-Arc-in-the-Azure-portal.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Azure-Arc-in-the-Azure-portal.jpg" alt="Azure Arc in the Azure portal" data-proofer-ignore></a><p> Azure Arc in the Azure portal</p></div><h3 id="azure-arc-enabled-kubernetes-cluster"><span class="mr-2">Azure Arc-enabled Kubernetes Cluster</span><a href="#azure-arc-enabled-kubernetes-cluster" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Managing a Kubernetes cluster with Azure Arc is called “Azure Arc-enabled Kubernetes cluster”. Azure Arc allows you to manage your Kubernetes cluster with extensions. There are various extensions such as:</p><ul><li>Azure Monitor<li>GitOps with Flux<li>Azure Policy<li>Azure Key Vault Secrets Provider<li>Microsoft Defender for Containers</ul><p>Additionally, the Azure Arc agent can open a connection from inside the cluster to Azure Arc. This conenction allows developers to access the cluster securely, even though the firewall blocks all incoming traffic.</p><h2 id="implementing-the-proof-of-concept-with-k3s-and-azure-arc"><span class="mr-2">Implementing the Proof of Concept with k3s and Azure Arc</span><a href="#implementing-the-proof-of-concept-with-k3s-and-azure-arc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The objective of the proof of concept was to establish a functional Kubernetes cluster equipped with a solution for automated deployments and monitoring. To this end, we opted to use <a href="https://docs.k3s.io" target="_blank" rel="noopener noreferrer">k3s as our Kubernetes distribution</a>. K3s is a lightweight Kubernetes distribution developed by Rancher, boasting a robust community and extensive documentation. Importantly, for rapid results, k3s can be installed with a single command:</p><script src="https://gist.github.com/WolfgangOfner/3f7dc8be3fcb980e5d6aef3c5b3d26dc.js"></script><p>This command installs a master node that also functions as a worker node. To add more worker nodes, copy the token from <code class="language-plaintext highlighter-rouge">/var/lib/rancher/k3s/server/node-token</code> and execute the following command on the new worker node:</p><script src="https://gist.github.com/WolfgangOfner/e07cba2d3a42d3e6b1cade9b0a4a66b8.js"></script><p>Replace myServer with your master node IP-address and myToken with the previously copied token.</p><h3 id="installation-of-azure-cli-and-preparation-of-the-cluster-for-azure-arc"><span class="mr-2">Installation of Azure CLI and Preparation of the Cluster for Azure Arc</span><a href="#installation-of-azure-cli-and-preparation-of-the-cluster-for-azure-arc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The Azure Arc installation will be carried out on the master node of the k3s cluster. The first step in this process involves installing the Azure CLI and the connectedk8s extension. The following commands can be used to install the CLI, the extension, and subsequently log into Azure:</p><script src="https://gist.github.com/WolfgangOfner/ce5c0a02d8d28a0a15845004609b8223.js"></script><p>I recommend using the <code class="language-plaintext highlighter-rouge">--use-device-code</code> parameter for the <code class="language-plaintext highlighter-rouge">az login</code> command, as I have encountered issues when attempting to log in on a remote machine. Simply open the displayed URL and enter the code. You should be logged in within a few seconds.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Install-the-Azure-CLI-and-login-into-Azure.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Install-the-Azure-CLI-and-login-into-Azure.jpg" alt="Install the Azure CLI and login into Azure" data-proofer-ignore></a><p> Install the Azure CLI and login into Azure</p></div><p>After installing Azure CLI, it is necessary to register three resource providers. These are essential for the installation of Azure Arc. The registration process may take up to 10 minutes. The following commands can be used to register the resource provider and check if the registration is complete:</p><script src="https://gist.github.com/WolfgangOfner/fa10d89d6cc8b22a101f242dbb0ccd69.js"></script><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Register-Service-Provider-in-Azure.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Register-Service-Provider-in-Azure.jpg" alt="Register Service Provider in Azure" data-proofer-ignore></a><p> Register Service Provider in Azure</p></div><p>Ensure that the <code class="language-plaintext highlighter-rouge">RegistrationState</code> is <code class="language-plaintext highlighter-rouge">Registered</code> for all three resource providers. After the resource providers are registered, the final preparatory step involves moving the config file of the Kubernetes cluster. Azure Arc expects the config file to be located at <code class="language-plaintext highlighter-rouge">/root/.kube/config</code>, whereas k3s installs the config at <code class="language-plaintext highlighter-rouge">/etc/rancher/k3s/k3s.yaml</code>. The following command can be used to move the config file to the correct location:</p><script src="https://gist.github.com/WolfgangOfner/ed8953d6a02c97bca8fd632ecbbd3e16.js"></script><p>If you encounter the error message “mv: cannot move /etc/rancher/k3s/k3s.yaml to /root/.kube/config: No such file or directory”, create the /.kube folder using the following command:</p><script src="https://gist.github.com/WolfgangOfner/0787a265afb35cbe2f01299a830dca7f.js"></script><p>After moving the config file, Azure Arc can be installed using the following command:</p><script src="https://gist.github.com/WolfgangOfner/bd8cba66f2ac1efdeb7b5c64ba48a6b8.js"></script><p>Ensure that you select a location close to your on-premises infrastructure. Currently, not all Azure locations support Azure Arc. The Azure CLI will notify you if you have selected an unsupported region and provide information on the currently available regions. The name parameter configures the name of the Azure Arc instance.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Install-Azure-Arc.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Install-Azure-Arc.jpg" alt="Install Azure Arc" data-proofer-ignore></a><p> Install Azure Arc</p></div><p>The installation should only take a couple of minutes. All Azure Arc related applications will be installed in the azure-arc namespace. You can check the pods using kubectl:</p><script src="https://gist.github.com/WolfgangOfner/f9745b91decf619fc5133dad3f5ccee8.js"></script><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-Azure-Arc-pods-in-the-Azure-Arc-namespace.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-Azure-Arc-pods-in-the-Azure-Arc-namespace.jpg" alt="The Azure Arc pods in the azure-arc namespace" data-proofer-ignore></a><p> The Azure Arc pods in the azure-arc namespace</p></div><p>Upon returning to the Azure Portal, click on any of the Kubernetes resources panes on the left, and you will see that you need to sign in to view the Kubernetes resources.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Sign-in-to-view-your-Kubernetes-resources.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Sign-in-to-view-your-Kubernetes-resources.jpg" alt="Sign in to view your Kubernetes resources" data-proofer-ignore></a><p> Sign in to view your Kubernetes resources</p></div><h3 id="generating-an-access-token-for-the-k3s-cluster"><span class="mr-2">Generating an Access Token for the k3s Cluster</span><a href="#generating-an-access-token-for-the-k3s-cluster" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>There are two primary methods for creating a token for cluster access: Azure RBAC using Microsoft Entra ID, or Kubernetes RBAC. While Azure RBAC is generally the preferred method for handling authentication in the long term, Kubernetes RBAC was more suitable for the proof of concept due to its simpler setup.</p><p>With the introduction of Kubernetes 1.22, we now have access to the TokenRequest API, which offers a more secure approach to token creation compared to the previously used Secret object. Let’s explore how we can utilize this API to enhance security in token creation.</p><p>To use the API, you first need to create a new service account and bind a role to it. Then, you can use the <code class="language-plaintext highlighter-rouge">kubectl create token &lt;Service Account Name&gt;</code> command to create the token.</p><script src="https://gist.github.com/WolfgangOfner/ca5efc785f453876bb8cc6e4c5bd0dda.js"></script><p>The <code class="language-plaintext highlighter-rouge">create token</code> command will automatically generate the token and display it on the console for you.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2022/08/Use-the-TokenRequest-API.jpg"><img loading="lazy" data-src="/assets/img/posts/2022/08/Use-the-TokenRequest-API.jpg" alt="Use the TokenRequest API" data-proofer-ignore></a><p> Use the TokenRequest API</p></div><p>Once you have the token, you can paste it into the Azure portal, and you will be able to see all the resources running in the on-premises k3s cluster.</p><h3 id="accessing-the-k3s-cluster-from-a-developer-computer-with-azure-arc"><span class="mr-2">Accessing the k3s Cluster from a Developer Computer with Azure Arc</span><a href="#accessing-the-k3s-cluster-from-a-developer-computer-with-azure-arc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>While using the Azure Portal to access the Kubernetes cluster is convenient, as a developer, you might be more accustomed to using <code class="language-plaintext highlighter-rouge">kubectl</code> or custom dashboards. To access the Kubernetes cluster from your development environment, you can use the following Azure CLI command.</p><script src="https://gist.github.com/WolfgangOfner/1d73e10ab3c34847ae72e6d57400aec0.js"></script><p>Replace <code class="language-plaintext highlighter-rouge">&lt;TOKEN&gt;</code> with the token you created earlier. You can use this command on any computer as long as the Azure CLI is installed. The command downloads the Kubernetes config file, sets the context, and creates a proxy connection through Azure Arc to the Kubernetes cluster.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Create-a-connection-to-the-Kubernetes-Cluster.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Create-a-connection-to-the-Kubernetes-Cluster.jpg" alt="Create a connection to the Kubernetes Cluster" data-proofer-ignore></a><p> Create a connection to the Kubernetes Cluster</p></div><p>After the connection is established, you can open a new terminal window and use <code class="language-plaintext highlighter-rouge">kubectl</code> as you normally would. It’s also possible to use any dashboard to display the resources from the Kubernetes cluster. This provides a familiar and efficient way to manage your Kubernetes resources.</p><h3 id="implementing-azure-features-on-an-on-premises-kubernetes-cluster-using-azure-arc-extensions"><span class="mr-2">Implementing Azure Features on an On-Premises Kubernetes Cluster Using Azure Arc Extensions</span><a href="#implementing-azure-features-on-an-on-premises-kubernetes-cluster-using-azure-arc-extensions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Azure Arc employs extensions to integrate Azure features into an on-premises Kubernetes cluster. The proof of concept utilized the following three extensions:</p><ul><li>GitOps Flux<li>Azure Monitor Container Insights<li>Azure Key Vault Secrets Provider</ul><h4 id="automated-deployments-with-the-gitops-flux-azure-arc-extension"><span class="mr-2">Automated Deployments with the GitOps Flux Azure Arc Extension</span><a href="#automated-deployments-with-the-gitops-flux-azure-arc-extension" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>The GitOps Flux agent, based on the open-source tool <a href="https://fluxcd.io" target="_blank" rel="noopener noreferrer">Flux</a>, operates within the Kubernetes cluster and periodically checks a Git repository for changes. If there are new commits in the repository, the Flux agent downloads these changes and applies them to the cluster. This approach facilitates automated deployments using Azure DevOps or GitHub and CI/CD pipelines, even without Azure DevOps having access to the Kubernetes cluster.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-Flux-GitOps-workflow.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-Flux-GitOps-workflow.jpg" alt="The Flux GitOps workflow" data-proofer-ignore></a><p> The Flux GitOps workflow</p></div><p>The workflow from implementing a new feature until it runs in the cluster is as follows:</p><ol><li>A developer commits new changes using a pull request to the main branch. This pull request triggers a pipeline which typically checks the code quality and runs basic unit tests.<li>Once the pull request is approved and merged to the main branch, the CI pipeline is automatically triggered. This pipeline runs more tests, creates a Docker image, and pushes it to a container registry such as DockerHub or Azure Container Registry.<li>After the CI pipeline finishes successfully, the CD pipeline is triggered. This pipeline prepares everything needed for the deployment.<li>We used a Helm chart for the deployment. The CD pipeline only had to update the version of the Docker image in the Helm chart. The pipeline used an Azure CLI script to read the newest tag from the Azure Container Registry and then used search and replace in the values.yaml file of the Helm chart to set the new tag version. Lastly, the CD pipeline committed the change to the GitOps repository.<li>After the CD pipeline committed the changes, the Flux agent inside the Kubernetes cluster will see that there was a new commit in the GitOps repo and downloads it. After the Helm chart is downloaded, the Flux agent applies it and the Kubernetes cluster will download the new image from the Azure Container Registry.</ol><p>Most enterprise applications are hosted in private Git repositories, which means that the GitOps Flux agent can’t access it by default. Therefore, you have to create a Personal Access Token (PAT) first. The steps are basically the same in GitHub and Azure DevOps. In Azure DevOps, click on settings and select Personal Access Token. Then select “+ New Token” and a flyout will appear. There, set a name and configure the expiration and access scope. Usually, it is enough to set the Read permission in the Code scope.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Configure-the-new-Personal-Access-Token.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Configure-the-new-Personal-Access-Token.jpg" alt="Configure the new Personal Access Token" data-proofer-ignore></a><p> Configure the new Personal Access Token</p></div><p>After creating the Personal Access Token (PAT), it’s crucial to copy it immediately as this is the only time it will be visible. If you lose it, you’ll need to generate a new one.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Copy-the-newly-created-PAT.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Copy-the-newly-created-PAT.jpg" alt="Copy the newly created PAT" data-proofer-ignore></a><p> Copy the newly created PAT</p></div><p>With the token in hand, you can create the GitOps Agent using Azure CLI. The installation process is straightforward and requires just a single command.</p><script src="https://gist.github.com/WolfgangOfner/eaaeee2092d3cb78629fb51334c31ac8.js"></script><p>With the token in hand, you can create the GitOps Agent using Azure CLI. The installation process is straightforward and requires just a single command. The first time you execute the command, Azure will also install the GitOps extension. The parameters should be self-explanatory. It’s important to replace the https-user and https-key with the user that created the PAT and with your PAT, and also the url with the URL of your GitHub or Azure DevOps URL. The kustomization parameter configures the kustomize file.</p><p>The installation should only take a few minutes. After it’s finished, you’ll see the new GitOps agent in the Azure portal in the GitOps pane of your Azure Arc instance.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-GitOps-agent-was-installed-successfully.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-GitOps-agent-was-installed-successfully.jpg" alt="The GitOps agent was installed successfully" data-proofer-ignore></a><p> The GitOps agent was installed successfully</p></div><p>You can click on the agent and get an overview of the configuration. In case of an error, you will also see them here which should help you to analyze what’s going on. The most common errors are that the PAT is invalid or that a path or URL in the GitOps config was wrong.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-GitOps-agent-config-in-the-Azure-portal.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-GitOps-agent-config-in-the-Azure-portal.jpg" alt="The GitOps agent config in the Azure portal" data-proofer-ignore></a><p> The GitOps agent config in the Azure portal</p></div><p>Once everything looks good, wait a couple of minutes and then you should see your application running in the Kubernetes cluster.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/The-application-was-successfully-deployed.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/The-application-was-successfully-deployed.jpg" alt="The application was successfully deployed" data-proofer-ignore></a><p> The application was successfully deployed</p></div><p>The GitOps Flux extension uses <a href="https://kustomize.io" target="_blank" rel="noopener noreferrer">Kustomize</a> for the Kubernetes configuration management. Kustomize is an open-source tool and allows you to declaratively configure your Kubernetes cluster. The proof of concept was kept as simple as possible and therefore only used the most basic functionality of Kustomize.</p><p>The GitOps agent references a kustomize file. This file can be used to configure the cluster but in our case, it only references a YAML file called HelmRelease.yaml.</p><script src="https://gist.github.com/WolfgangOfner/9bcf0338c344db46e61214930af5e23a.js"></script><p>The HelmRelease.yaml file contains a reference to the Helm chart and everything that is needed to configure it.</p><script src="https://gist.github.com/WolfgangOfner/92aa04a4a96d14eca12004ecf38a01a0.js"></script><p>As mentioned before, we kept the proof of concept as simple as possible, therefore all the additional configuration possibilities of Kustomize are out of scope for this article.</p><h4 id="gaining-insight-into-the-cluster-with-the-azure-monitor-extension"><span class="mr-2">Gaining Insight into the Cluster with the Azure Monitor Extension</span><a href="#gaining-insight-into-the-cluster-with-the-azure-monitor-extension" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Azure Monitor is an excellent tool for gaining insights into your cluster’s activities and for sending out notifications if something isn’t functioning as expected. To install the Azure Monitor agent inside your Kubernetes cluster, you can use the following command:</p><script src="https://gist.github.com/WolfgangOfner/0c8da0afb24c3a227f87fc0f8bff6084.js"></script><p>This command first creates an Azure Log Analytics Workspace and then installs the Azure Monitor extension. If you don’t create the Log Analytics Workspace first, Azure will automatically create one for you.</p><p>Once the agent is started, it will begin to collect metrics and logs from your containers and also from the nodes, and sends everything to the Work Analytics Workspace. Now, you can use Azure Monitor to create dashboards, set up alarms, or query the provided data. Azure Monitor already comes with pre-configured dashboards in the Azure portal.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Azure-Monitor-pre-configured-dashboards-with-cluster-information.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Azure-Monitor-pre-configured-dashboards-with-cluster-information.jpg" alt="Azure Monitor pre configured dashboards with cluster information" data-proofer-ignore></a><p> Azure Monitor pre configured dashboards with cluster information</p></div><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Azure-Monitor-can-be-used-to-analyze-containers.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Azure-Monitor-can-be-used-to-analyze-containers.jpg" alt="Azure Monitor can be used to analyze containers" data-proofer-ignore></a><p> Azure Monitor can be used to analyze containers</p></div><h4 id="securely-synchronize-secrets-with-the-azure-key-vault-extension"><span class="mr-2">Securely synchronize Secrets with the Azure Key Vault Extension</span><a href="#securely-synchronize-secrets-with-the-azure-key-vault-extension" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Azure Key Vault is the go-to solution for storing secrets and certificates in Azure. With the Azure Key Vault secrets provider extension for Arc-enabled Kubernetes clusters, it is possible to configure an Azure Key Vault as the secret provider of the cluster. This means that the cluster automatically synchronizes secrets from Azure Key Vault and can optionally attach them as environment variables to the pods. The significant advantage of using this extension is that developers don’t have to change anything in their application.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/Azure-Key-Vault-can-be-used-as-secrets-store-provider.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/Azure-Key-Vault-can-be-used-as-secrets-store-provider.jpg" alt="Azure Key Vault can be used as secrets store provider" data-proofer-ignore></a><p> Azure Key Vault can be used as secrets store provider</p></div><p>To use Azure Key Vault as your secrets provider, you have to create a service principal and give this principal permissions to access secrets or certificates. Then you add this service principal to the cluster and configure which secrets you want to configure. The exact implementation would be too much for this article, but I will write a follow-up article soon.</p><p>For more details on the implementation, see <a href="https://learn.microsoft.com/en-us/azure/aks/csi-secrets-store-driver" target="_blank" rel="noopener noreferrer">Microsoft’s documentation</a>.</p><h2 id="additional-azure-arc-features"><span class="mr-2">Additional Azure Arc Features</span><a href="#additional-azure-arc-features" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This concludes the proof of concept, but Azure Arc offers many additional features. With an Azure Arc-enabled Kubernetes cluster, it’s possible to run Azure services such as Azure App Service, Azure API Management, or Azure Event Grid outside of Azure. Additionally, you can run data services such as Azure Machine Learning or Azure SQL Managed Instance in your on-premises cluster. This allows you to use these Microsoft-managed services while keeping all the data inside your own data center on-premises. The only data sent to Azure is metadata, which is needed for billing.</p><p>While we could discuss all the Azure Arc features for days, I believe this article is already comprehensive enough. You can see an overview of all the Azure services available with Azure Arc in the provided screenshot.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2024/03/An-overview-of-the-Azure-Arc-capabilities.jpg"><img loading="lazy" data-src="/assets/img/posts/2024/03/An-overview-of-the-Azure-Arc-capabilities.jpg" alt="An overview of the Azure Arc capabilities" data-proofer-ignore></a><p> An overview of the Azure Arc capabilities</p></div><h2 id="costs-of-azure-arc"><span class="mr-2">Costs of Azure Arc</span><a href="#costs-of-azure-arc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In general, Azure Arc is quite affordable for the functionality it provides. Each Azure Arc service has different pricing. For example, an Azure Arc-enabled Kubernetes cluster costs $2 per vCPU per month, with the first 6 CPUs free. The Azure Arc-enabled SQL Server Standard Edition costs $73 per month if you don’t have a license.</p><p>For all the details about pricing, check out the <a href="Azure Arc Pricing page" target="_blank" rel="noopener noreferrer">Azure Arc Pricing page</a>.</p><h2 id="outcome-of-the-proof-of-concept"><span class="mr-2">Outcome of the Proof of Concept</span><a href="#outcome-of-the-proof-of-concept" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>While Azure Arc has its quirks and can sometimes be a bit complicated and poorly documented, the proof of concept was entirely successful. We were able to overcome the challenges of an on-premises Kubernetes cluster behind a firewall and implemented automated deployments, monitoring, and handling secrets. This allows for an automated process that can easily be audited and additionally helps to operate the cluster as efficiently as possible.</p><p>I was only part of the proof of concept phase, therefore, I don’t know if the company decided to implement it this way or choose a different route. In my opinion, I don’t see any reason why you shouldn’t use Azure Arc to manage your on-premises infrastructure and also run Azure services in your own data center if needed.</p><h2 id="resources-slides-and-video-of-this-talk"><span class="mr-2">Resources, Slides and Video of this Talk</span><a href="#resources-slides-and-video-of-this-talk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>I gave a talk about this topic at the Boston Azure User Group. You can find the video of this talk here: <a href="/video-boston-azure-user-group-azure-arc-devops">Video - Bring DevOps to the Swiss Alps - Boston Azure User Group</a>.<li>You can find the presentation of the talk on <a href="https://github.com/WolfgangOfner/Presentation/blob/main/2024%20-%20Azure%20Spring%20Clean/Bring%20DevOps%20to%20the%20Swiss%20Clouds.pdf" target="_blank" rel="noopener noreferrer">GitHub</a>.<li><a href="https://github.com/WolfgangOfner/WindowsDeveloperArcDemo" target="_blank" rel="noopener noreferrer">Demo Code Application Repository</a><li><a href="https://github.com/WolfgangOfner/WindowsDeveloperArcDemoGitOps" target="_blank" rel="noopener noreferrer">Demo Code GitOps Repository</a><li>I working on creating videos for everything Azure Arc related <a href="https://github.com/WolfgangOfner/WindowsDeveloperArcDemoGitOps" target="_blank" rel="noopener noreferrer">Youtube Playlist</a><li>I am also writing articles about Azure Arc: <a href="/manage-on-premises-kubernetes-with-azure-arc">Azure Arc Series - Manage an on-premises Kubernetes Cluster with Azure Arc</a><li>This article is part of the <a href="https://www.azurespringclean.com" target="_blank" rel="noopener noreferrer">Azure Spring Clean 2024</a> and the Q&amp;A session is scheduled for Friday, March 8, 2024 5am ET / 10am UTC</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/cloud/'>Cloud</a>, <a href='/categories/devops/'>DevOps</a>, <a href='/categories/kubernetes/'>Kubernetes</a>, <a href='/categories/speaking/'>Speaking</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/azure/" class="post-tag no-text-decoration" >Azure</a> <a href="/tags/azure-arc/" class="post-tag no-text-decoration" >Azure Arc</a> <a href="/tags/cd-cd/" class="post-tag no-text-decoration" >CD-CD</a> <a href="/tags/conference/" class="post-tag no-text-decoration" >Conference</a> <a href="/tags/devops/" class="post-tag no-text-decoration" >DevOps</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/flux/" class="post-tag no-text-decoration" >Flux</a> <a href="/tags/helm/" class="post-tag no-text-decoration" >Helm</a> <a href="/tags/k3s/" class="post-tag no-text-decoration" >k3s</a> <a href="/tags/on-premises/" class="post-tag no-text-decoration" >On-premises</a> <a href="/tags/speaking/" class="post-tag no-text-decoration" >Speaking</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Bring+DevOps+to+the+Swiss+Alps+using+Azure+Arc+-+Azure+Spring+Clean+2024+-+Programming+With+Wolfgang&url=%2Fbring-devops-to-the-swiss-alps-using-azure-arc%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Bring+DevOps+to+the+Swiss+Alps+using+Azure+Arc+-+Azure+Spring+Clean+2024+-+Programming+With+Wolfgang&u=%2Fbring-devops-to-the-swiss-alps-using-azure-arc%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Bring+DevOps+to+the+Swiss+Alps+using+Azure+Arc+-+Azure+Spring+Clean+2024+-+Programming+With+Wolfgang&url=%2Fbring-devops-to-the-swiss-alps-using-azure-arc%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fbring-devops-to-the-swiss-alps-using-azure-arc%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/article-managing-on-premises-kubernetes-clusters-with-azure-arc-copy/"><div class="card-body"> <em class="small" data-ts="1658095200" data-df="ll" > Jul 18, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Article - Managing On-Premises Kubernetes Clusters with Azure Arc</h3><div class="text-muted small"><p> I am excited to announce the publication of the second article in my Azure Arc series in the German “windows .developer” magazine’s August 2022 issue. The article, titled “Managing On-Premises Kube...</p></div></div></a></div><div class="card"> <a href="/microservice-series-from-zero-to-hero/"><div class="card-body"> <em class="small" data-ts="1610838000" data-df="ll" > Jan 17, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Microservice Series - From Zero to Hero</h3><div class="text-muted small"><p> I am working as a consultant and software architect on different projects that focus on microservices, DevOps, and Kubernetes. Many of my consulting jobs consist of explaining microservices, why th...</p></div></div></a></div><div class="card"> <a href="/video-hybrid-multi-cloud-warsaw-it-days/"><div class="card-body"> <em class="small" data-ts="1682892000" data-df="ll" > May 1, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Video - Unleashing the Potential of Hybrid Cloud - Streamlining Multi-Cloud Management and On-Premises Integration - Warsaw IT Days 2023</h3><div class="text-muted small"><p></p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/mastering-az-400-exam-comprehensive-guide-azure-certification-preparation/" class="btn btn-outline-primary" prompt="Older"><p>Mastering the AZ-400 Exam - A Comprehensive Guide to the Azure DevOps Certification</p></a> <a href="/mastering-az-700-exam-comprehensive-guide-azure-certification-preparation/" class="btn btn-outline-primary" prompt="Newer"><p>Mastering the AZ-700 Exam - A Comprehensive Guide to the Azure Networking Certification</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/bring-devops-to-the-swiss-alps-using-azure-arc/'; this.page.identifier = '/bring-devops-to-the-swiss-alps-using-azure-arc/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
