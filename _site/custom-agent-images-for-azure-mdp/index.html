<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Custom Agent Images for Azure Managed DevOps Pools" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="Create and use custom Linux and Windows agents with your Managed Devops Pool." /><meta property="og:description" content="Create and use custom Linux and Windows agents with your Managed Devops Pool." /><link rel="canonical" href="/custom-agent-images-for-azure-mdp/" /><meta property="og:url" content="/custom-agent-images-for-azure-mdp/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-04-07T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Custom Agent Images for Azure Managed DevOps Pools" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2025-04-07T00:00:00+02:00","datePublished":"2025-04-07T00:00:00+02:00","description":"Create and use custom Linux and Windows agents with your Managed Devops Pool.","headline":"Custom Agent Images for Azure Managed DevOps Pools","mainEntityOfPage":{"@type":"WebPage","@id":"/custom-agent-images-for-azure-mdp/"},"url":"/custom-agent-images-for-azure-mdp/"}</script><title>Custom Agent Images for Azure Managed DevOps Pools | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "hc0wl2v6mn"); </script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/youtube/" class="nav-link"> <i class="fa-fw fas fa-video ml-xl-3 mr-xl-3 unloaded"></i> <span>YOUTUBE</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/channel/UCmiFK5vpvsi6j6gD7W_rsVQ" aria-label="Youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Custom Agent Images for Azure Managed DevOps Pools</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Custom Agent Images for Azure Managed DevOps Pools</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1743976800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 7, 2025 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="780 words"> <em>9 min</em></span> read</div></div><div class="post-content"><p>Building and utilizing custom agent images for Azure DevOps Managed Pools offers a powerful and efficient approach to CI/CD. This method provides a flexible and streamlined alternative to traditional self-hosted or Microsoft-hosted agents, particularly beneficial when your pipelines demand specific software installations or unique environments.</p><h2 id="understanding-managed-devops-pools"><span class="mr-2">Understanding Managed DevOps Pools</span><a href="#understanding-managed-devops-pools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Managed DevOps Pools present a compelling alternative to standard Azure DevOps agents. Their key advantages include:</p><ul><li><strong>Cost-effectiveness:</strong> Billing is based solely on usage, optimizing expenditure.<li><strong>Simplified Management:</strong> Azure takes on the responsibility for underlying VM updates and agent software installation, significantly reducing your operational burden.<li><strong>Enhanced Customization:</strong> For scenarios requiring specialized software or tools that are cumbersome to install via command-line interfaces, custom agent images provide a tailored solution.</ul><h2 id="azure-setup-for-custom-images"><span class="mr-2">Azure Setup for Custom Images</span><a href="#azure-setup-for-custom-images" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Setting up your Azure environment to support custom agent images involves a few critical steps:</p><ol><li><strong>Define Variables and Create Resource Group:</strong> Begin by establishing variables for your resource group, preferred location, and a unique name for your image gallery. Subsequently, create the resource group to house your resources.<li><strong>Create Azure Compute Gallery:</strong> This central repository will store all your custom agent images, making them accessible for deployment.<li><strong>Grant Permissions:</strong> A crucial step is to grant the devops infrastructure service principal “Reader” access to your Azure Compute Gallery. This permission is vital to prevent errors when Managed DevOps Pools attempt to provision agents using your custom images.<li><strong>Create Dev Center and Project:</strong> A Dev Center and a project within it are established to manage the lifecycle and configuration of your DevOps pools.</ol><h2 id="creating-and-preparing-a-linux-custom-image"><span class="mr-2">Creating and Preparing a Linux Custom Image</span><a href="#creating-and-preparing-a-linux-custom-image" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To create a custom Linux image suitable for your build needs:</p><ol><li><strong>Provision an Ubuntu VM:</strong> Deploy a new Ubuntu Virtual Machine in Azure.<li><strong>Install Necessary Software:</strong> Install all required software, tools, and dependencies for your build environment. As an example, Docker might be installed for containerized workloads.<li><strong>Deallocate and Generalize VM:</strong> Before capturing, the VM must be deallocated and generalized. Generalization removes unique machine-specific identifiers, ensuring the image is reusable across multiple agent instances.<li><strong>Capture VM as Image:</strong> Utilize the Azure portal to capture this prepared VM. The captured image will then be stored in your Azure Compute Gallery.</ol><h2 id="creating-and-using-a-linux-managed-devops-pool"><span class="mr-2">Creating and Using a Linux Managed DevOps Pool</span><a href="#creating-and-using-a-linux-managed-devops-pool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once your Linux custom image is ready:</p><ol><li><strong>Create New Managed DevOps Pool:</strong> In your Azure DevOps organization, initiate the creation of a new Managed DevOps Pool.<li><strong>Link to Azure DevOps Organization:</strong> Connect the newly created pool to your specific Azure DevOps organization.<li><strong>Configure with Custom Image:</strong> During the pool configuration, select your custom Ubuntu image from the Azure Compute Gallery to be used by the agents provisioned within this pool.<li><strong>Run Pipeline:</strong> Execute a pipeline (e.g., a Docker build pipeline) in Azure DevOps. Observe how the Managed DevOps Pool automatically provisions a VM using your custom image and executes the pipeline steps.</ol><h2 id="creating-and-preparing-a-windows-custom-image"><span class="mr-2">Creating and Preparing a Windows Custom Image</span><a href="#creating-and-preparing-a-windows-custom-image" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>For a custom Windows image, the process is similar but with Windows-specific preparation steps:</p><ol><li><strong>Provision a Windows VM:</strong> Deploy a new Windows Virtual Machine in Azure.<li><strong>Install Necessary Software:</strong> Install all required software, such as Chocolatey and specific .NET SDKs (e.g., .NET 9 SDK), to meet your pipeline’s requirements.<li><strong>Prepare Windows Image:</strong> Critical steps for Windows image generalization include:<ul><li>Deleting the Panther folder within the Windows directory.<li>Enabling the CD/DVD ROM via the command line.<li>Running <code class="language-plaintext highlighter-rouge">sysprep.exe</code> with the <code class="language-plaintext highlighter-rouge">/generalize /shutdown /oobe</code> flags to generalize and shut down the VM.</ul><li><strong>Capture VM as Image:</strong> Capture the prepared Windows VM as an image and add it to your Azure Compute Gallery.</ol><h2 id="creating-and-using-a-windows-managed-devops-pool"><span class="mr-2">Creating and Using a Windows Managed DevOps Pool</span><a href="#creating-and-using-a-windows-managed-devops-pool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>With your Windows custom image available:</p><ol><li><strong>Create New Managed DevOps Pool:</strong> Create another Managed DevOps Pool in your Azure DevOps organization.<li><strong>Configure with Custom Windows Image:</strong> Select your newly created custom Windows image during the pool setup.<li><strong>Run Pipeline:</strong> Execute a relevant pipeline (e.g., a .NET 9 build pipeline). The pool will automatically provision a Windows VM with your custom image and successfully run the pipeline.</ol><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Leveraging custom images with Azure Managed DevOps Pools dramatically streamlines your CI/CD agent management. This approach frees you from the intricacies of manual agent installation and VM updates, as Microsoft handles these aspects. You can then concentrate on integrating the specific software and tools essential for your pipelines. This strategy not only enhances performance and scalability but also maintains an admirable level of ease of use, making it a valuable addition to any modern DevOps toolkit.</p><p>You can find all the code sample on <a href="https://github.com/WolfgangOfner/Youtube/tree/main/Custom%20Agent%20Images%20for%20Azure%20Managed%20DevOps%20Pools" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p>This post was AI-generated based on the transcript of the video “Custom Agent Images for Azure Managed DevOps Pools” and reviewed by me.</p><h2 id="video---custom-agent-images-for-azure-managed-devops-pools"><span class="mr-2">Video - Custom Agent Images for Azure Managed DevOps Pools</span><a href="#video---custom-agent-images-for-azure-managed-devops-pools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><iframe width="560" height="315" src="https://www.youtube.com/embed/wgZUhx6hJYo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/azure-devops/" class="post-tag no-text-decoration" >Azure DevOps</a> <a href="/tags/managed-devops-pools/" class="post-tag no-text-decoration" >Managed DevOps Pools</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Custom+Agent+Images+for+Azure+Managed+DevOps+Pools+-+Programming+With+Wolfgang&url=%2Fcustom-agent-images-for-azure-mdp%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Custom+Agent+Images+for+Azure+Managed+DevOps+Pools+-+Programming+With+Wolfgang&u=%2Fcustom-agent-images-for-azure-mdp%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Custom+Agent+Images+for+Azure+Managed+DevOps+Pools+-+Programming+With+Wolfgang&url=%2Fcustom-agent-images-for-azure-mdp%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fcustom-agent-images-for-azure-mdp%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/video-azure-managed-devops-pools-explained-a-game-changer-for-hosting-agents/"><div class="card-body"> <em class="small" data-ts="1739746800" data-df="ll" > Feb 17, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Video - Azure Managed DevOps Pools Explained - A Game Changer for Hosting Agents</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/video-custom-agent-images-for-azure-mdp/"><div class="card-body"> <em class="small" data-ts="1743976800" data-df="ll" > Apr 7, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Video - Custom Agent Images for Azure Managed DevOps Pools</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/managed-devops-pools-identity-assignment/"><div class="card-body"> <em class="small" data-ts="1746396000" data-df="ll" > May 5, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Managed DevOps Pools - Identity Assignment Made Easy</h3><div class="text-muted small"><p> This post explains how to securely access Azure resources using managed identities with Azure DevOps pools. This method eliminates the need to store secrets directly in your code, significantly enh...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/video-secure-aks-secrets-with-akv-secrets-provider/" class="btn btn-outline-primary" prompt="Older"><p>Video - Secure your Kubernetes Secrets with Azure Key Vault Secrets Provider</p></a> <a href="/video-custom-agent-images-for-azure-mdp/" class="btn btn-outline-primary" prompt="Newer"><p>Video - Custom Agent Images for Azure Managed DevOps Pools</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/custom-agent-images-for-azure-mdp/'; this.page.identifier = '/custom-agent-images-for-azure-mdp/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
