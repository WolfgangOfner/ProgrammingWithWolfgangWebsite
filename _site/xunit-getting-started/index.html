<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="xUnit - Getting Started" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .NET framework." /><meta property="og:description" content="In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .NET framework." /><link rel="canonical" href="/xunit-getting-started/" /><meta property="og:url" content="/xunit-getting-started/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-01-27T21:57:57+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="xUnit - Getting Started" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2019-01-27T21:57:57+01:00","datePublished":"2019-01-27T21:57:57+01:00","description":"In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .NET framework.","headline":"xUnit - Getting Started","mainEntityOfPage":{"@type":"WebPage","@id":"/xunit-getting-started/"},"url":"/xunit-getting-started/"}</script><title>xUnit - Getting Started | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "hc0wl2v6mn"); </script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/youtube/" class="nav-link"> <i class="fa-fw fas fa-video ml-xl-3 mr-xl-3 unloaded"></i> <span>YOUTUBE</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/channel/UCmiFK5vpvsi6j6gD7W_rsVQ" aria-label="Youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>xUnit - Getting Started</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>xUnit - Getting Started</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1548622677" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 27, 2019 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1363 words"> <em>16 min</em></span> read</div></div><div class="post-content"><p>In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .NET framework and was written by the inventor of NUnit v2. More details can be found on <a href="https://github.com/xunit/xunit" target="_blank" rel="noopener">xUnit’s GitHub page</a>. xUnit is used by .NET core as the default testing framework and its major advantage over NUnit is that every test runs in isolation, which makes it impossible that test influence each other.</p><h2 id="my-setup"><span class="mr-2">My Setup</span><a href="#my-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>For writing unit tests I use the following NuGet packages and extensions:</p><ul><li>xUnit for unit testing<li><a href="http://xbehave.github.io/" target="_blank" rel="noopener">xBehave</a> for acceptance tests (xBehave is based on xUnit)<li><a href="https://fluentassertions.com/" target="_blank" rel="noopener">FluentAssertions</a> for more readable assertions<li><a href="https://fakeiteasy.github.io/" target="_blank" rel="noopener">FakeItEasy</a> to create fake objects<li><a href="https://resharper-plugins.jetbrains.com/packages/xunitcontrib/" target="_blank" rel="noopener">xUnit Resharper Extension</a> for xUnit shortcuts in Visual Studio</ul><p>The code for today’s demo can be found on <a href="https://github.com/WolfgangOfner/xUnit-Getting-Started" target="_blank" rel="noopener">GitHub</a>. Keep in mind that the tests are only for the demonstration of xUnit. The tests are barely useful.</p><h2 id="execute-a-test-with-xunit"><span class="mr-2">Execute a test with xUnit</span><a href="#execute-a-test-with-xunit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>For each class I want to test, I create a separate class to which I add tests in the name, for example, if I want to test the Employee class I name my test class EmployeeTests. To create a test method, you only have to add the Fact attribute to the method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-the-Fact-attritbue.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Using-the-Fact-attritbue.jpg" alt="Using the xUnit Fact attribute" data-proofer-ignore></a><p> Using the Fact attribute</p></div><p>That’s all. You can run the test and if the constructor of your Employee class sets the salary to 1000, the test will pass. I like to name the object I want to test testee. Another common name is sut which stands for system under test.</p><h2 id="reducing-code-duplication"><span class="mr-2">Reducing code duplication</span><a href="#reducing-code-duplication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In the intro, I mentioned that every test runs in isolation in xUnit. This is done by creating a new instance for each test. Therefore the constructor is called for each test and can be used to initialize objects, which are needed for the tests. Since I will need the object of the Employee class in all my tests, I can initialize it in the constructor and don’t have to write the same code over and over in every test.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Initialize-the-testee-in-the-constructor.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Initialize-the-testee-in-the-constructor.jpg" alt="Initialize the testee in the constructor" data-proofer-ignore></a><p> Initialize the testee in the constructor</p></div><h2 id="cleaning-up-after-tests"><span class="mr-2">Cleaning up after tests</span><a href="#cleaning-up-after-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Sometimes you have to do some cleanup like a database rollback or deleting a file after the tests were executed. Like the constructor, this can be done in a central place for all tests. To do that implement the IDisposable interface and implement the Dispose method. This method is called every time a test is finished.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Implement-the-IDisposable-interface.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Implement-the-IDisposable-interface.jpg" alt="Implement the IDisposable interface" data-proofer-ignore></a><p> Implement the IDisposable interface</p></div><h2 id="executing-tests-several-times-with-different-parameters"><span class="mr-2">Executing tests several times with different parameters</span><a href="#executing-tests-several-times-with-different-parameters" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Often you want to execute a test with different parameters, for example, if a valid age for your employee has to be between at least 18 and maximum 65 years, you want to test the edge cases (17, 18, 65, 66). Additionally, you might test negative numbers. You could write several asserts but this would be a lot of typing and not really practical. The solution for this is the Theory attribute in xUnit. A Theory allows you to pass values from different sources as parameters to your test method. With the InlineData attribute, you can add values for the parameter.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Executing-the-same-method-with-several-input-variables.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Executing-the-same-method-with-several-input-variables.jpg" alt="Executing the same method with several input variables" data-proofer-ignore></a><p> Executing the same method with several input variables</p></div><p>If you run this test method, five test cases will be executed.</p><h2 id="skipping-a-test"><span class="mr-2">Skipping a test</span><a href="#skipping-a-test" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Sometimes you don’t want a test to be executed. To ignore tests, add the Skip attribute and provide an info message.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Skipping-a-test.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Skipping-a-test.jpg" alt="Skipping a test" data-proofer-ignore></a><p> Skipping a test</p></div><h2 id="grouping-tests-together"><span class="mr-2">Grouping tests together</span><a href="#grouping-tests-together" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I barely use this feature but sometimes you want to group certain tests together. This can be for example all tests from one class and only some tests from another class. To do that use the Trait attribute and provide a name and category. You can apply this attribute to a class or to a single test.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-method.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-method.jpg" alt="Applying the Trait attribute to a test method" data-proofer-ignore></a><p> Applying the Trait attribute to a test method</p></div><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-class.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-class.jpg" alt="Applying the Trait attribute to a test class" data-proofer-ignore></a><p> Applying the Trait attribute to a test class</p></div><p>If you run the tests and group the output by category, all traits with the same category will be grouped together.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Grouped-test-output.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Grouped-test-output.jpg" alt="Grouped test output" data-proofer-ignore></a><p> Grouped test output</p></div><h2 id="add-information-to-the-test-result-output"><span class="mr-2">Add information to the test result output</span><a href="#add-information-to-the-test-result-output" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>By default, no output is generated when a test finished. For reporting reasons, it can be useful to add some information on what the test did to the output of the test. This can be done with the ITestOutputHelper. Pass it as parameter in the constructor of your test class and initialize a private field with it.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-the-ITestOutputHelper.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Using-the-ITestOutputHelper.jpg" alt="Using the ITestOutputHelper" data-proofer-ignore></a><p> Using the ITestOutputHelper</p></div><p>Next, use the WriteLine method of the ITestOutputHelper object to create the desired output.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Creating-a-custom-message-for-the-test-result.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Creating-a-custom-message-for-the-test-result.jpg" alt="Creating a custom message for the test result" data-proofer-ignore></a><p> Creating a custom message for the test result</p></div><p>When you run the test, you will see the message in the test result window.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Output-message-of-the-test.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Output-message-of-the-test.jpg" alt="Output message of the test" data-proofer-ignore></a><p> Output message of the test</p></div><h2 id="share-resources-over-multiple-tests"><span class="mr-2">Share resources over multiple tests</span><a href="#share-resources-over-multiple-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Previously, I mentioned that for every test a new object is instantiated and therefore isolated from the other tests.  Sometimes you need to share a resource with several tests. This can be done with Fixtures. First, you have to create a so-called fixture class with the information you want to share. In my simple example, I set DateTime.Now to demonstrate that every test uses the same instance of the object.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Fixture-class-to-share-the-time-property.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Fixture-class-to-share-the-time-property.jpg" alt="Fixture class to share the time property" data-proofer-ignore></a><p> Fixture class to share the time property</p></div><p>Next, I am creating a collection class with the CollectionDefiniton attribute and the ICollectionFixture interface with my previously created fixture class.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Creating-the-collection-to-share-date-accross-tests.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Creating-the-collection-to-share-date-accross-tests.jpg" alt="Creating the collection to share date across tests" data-proofer-ignore></a><p> Creating the collection to share date across tests</p></div><p>Finally, I add the Collection attribute with the previously set name to my test class and pass the fixture class in the constructor.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Passing-the-collection-to-the-test-class.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Passing-the-collection-to-the-test-class.jpg" alt="Passing the collection to the test class" data-proofer-ignore></a><p> Passing the collection to the test class</p></div><p>To demonstrate that the _timeFixture object stays the same, I run a couple of tests with Thread.Sleep(1500) and both tests will output the same time.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Tests-using-the-fixture-object.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Tests-using-the-fixture-object.jpg" alt="Tests using the fixture object" data-proofer-ignore></a><p> Tests using the fixture object</p></div><p>Both tests will print the same output.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/The-same-output-of-the-fixture-object.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/The-same-output-of-the-fixture-object.jpg" alt="The same output of the fixture object" data-proofer-ignore></a><p> The same output of the fixture object</p></div><h2 id="provide-test-data-from-a-class"><span class="mr-2">Provide test data from a class</span><a href="#provide-test-data-from-a-class" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Previously, I showed how to use the Theory attribute to pass several parameters for the test. If you want the same data for several tests, you would have to enter it several times. This is error-prone and unpractical. Therefore, you can place these values in a class and just add a reference to the class.</p><p>Create a new class with a static property and only a getter which yield returns all your test data as object arrays.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Class-with-test-data.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Class-with-test-data.jpg" alt="Class with test data" data-proofer-ignore></a><p> Class with test data</p></div><p>For your test, use the MemberData instead of the InlineData attribute and provide the name of the property and the type of the class containing your test data.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-test-data-from-a-class.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Using-test-data-from-a-class.jpg" alt="Using test data from a class" data-proofer-ignore></a><p> Using test data from a class</p></div><h2 id="provide-test-data-with-a-custom-attribute"><span class="mr-2">Provide test data with a custom attribute</span><a href="#provide-test-data-with-a-custom-attribute" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A custom attribute works the same way as the MemberData attribute but it is even less to write in your test. Create a new class and inherit from the DataAttribute class. Then override the GetData method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Override-the-GetData-method-from-the-DataAttribute-class.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Override-the-GetData-method-from-the-DataAttribute-class.jpg" alt="Override the GetData method from the DataAttribute class" data-proofer-ignore></a><p> Override the GetData method from the DataAttribute class</p></div><p>After you created the class, add the name of the class (without Attribute) as the attribute to your Theory. xUnit will recognize your attribute and call the GetData method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Use-the-custom-attribute.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Use-the-custom-attribute.jpg" alt="Use the custom attribute" data-proofer-ignore></a><p> Use the custom attribute</p></div><h2 id="provide-test-data-from-an-external-source"><span class="mr-2">Provide test data from an external source</span><a href="#provide-test-data-from-an-external-source" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The last method to provide data for your tests is from an external source. To read the data from a csv file, I placed the csv file in the root folder of my project and created a class with a static property. In the getter of the property, I read the file, split the values and return them as object arrays. Don’t forget to set the Copy to Output Directory property of the csv file to Copy always or Copy if newer. Otherwise, the file won’t be copied when you compile your code and therefore won’t be found at runtime.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Read-data-from-a-csv-file.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Read-data-from-a-csv-file.jpg" alt="Read data from a csv file" data-proofer-ignore></a><p> Read data from a csv file</p></div><p>Now use the MemberData attribute for your test to add the name of the property and the type of your class.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Provide-data-from-an-external-file-to-your-test.jpg"><img loading="lazy" data-src="/assets/img/posts/2019/01/Provide-data-from-an-external-file-to-your-test.jpg" alt="Provide data from an external file to your test" data-proofer-ignore></a><p> Provide data from an external file to your test</p></div><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In this post, I gave a quick overview of xUnit and explained how to get data from several sources and how to reduce duplicate code. For more information on xUnit, I can recommend the Pluralsight course “<a href="https://app.pluralsight.com/library/courses/dotnet-core-testing-code-xunit-dotnet-getting-started/table-of-contents" target="_blank" rel="noopener">Testing .NET Core Code with xUnit.net: Getting Started</a>” from Jason Robert.</p><p>You can find the code of my demo on <a href="https://github.com/WolfgangOfner/xUnit-Getting-Started" target="_blank" rel="noreferrer noopener" aria-label="You can find all my solutions on GitHub. (opens in a new tab)">GitHub</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/tdd/" class="post-tag no-text-decoration" >TDD</a> <a href="/tags/xunit/" class="post-tag no-text-decoration" >xUnit</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=xUnit+-+Getting+Started+-+Programming+With+Wolfgang&url=%2Fxunit-getting-started%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=xUnit+-+Getting+Started+-+Programming+With+Wolfgang&u=%2Fxunit-getting-started%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=xUnit+-+Getting+Started+-+Programming+With+Wolfgang&url=%2Fxunit-getting-started%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fxunit-getting-started%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/video/">Video</a> <a class="post-tag" href="/tags/youtube/">Youtube</a> <a class="post-tag" href="/tags/conference/">Conference</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/xbehave-getting-started/"><div class="card-body"> <em class="small" data-ts="1548887426" data-df="ll" > Jan 30, 2019 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>xBehave - Getting Started</h3><div class="text-muted small"><p> In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xU...</p></div></div></a></div><div class="card"> <a href="/tdd-kata/"><div class="card-body"> <em class="small" data-ts="1544369481" data-df="ll" > Dec 9, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>TDD Kata</h3><div class="text-muted small"><p> Nowadays it should be a no-brainer to write automated tests when developing or changing features. Unfortunately, the reality is different. In the last couple of weeks, I worked with several teams w...</p></div></div></a></div><div class="card"> <a href="/unit-testing-controller-and-actions/"><div class="card-body"> <em class="small" data-ts="1516043413" data-df="ll" > Jan 15, 2018 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Unit Testing Controllers and Actions</h3><div class="text-muted small"><p> In my last post, I showed how to work with controllers and actions. This included passing data, return types of actions and redirects. In this post, I want to check if my implemented features work ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/tdd-kata/" class="btn btn-outline-primary" prompt="Older"><p>TDD Kata</p></a> <a href="/xbehave-getting-started/" class="btn btn-outline-primary" prompt="Newer"><p>xBehave - Getting Started</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/xunit-getting-started/'; this.page.identifier = '/xunit-getting-started/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/video/">Video</a> <a class="post-tag" href="/tags/youtube/">Youtube</a> <a class="post-tag" href="/tags/conference/">Conference</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
