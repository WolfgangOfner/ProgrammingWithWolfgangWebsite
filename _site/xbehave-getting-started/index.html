<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="xBehave - Getting Started" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xUnit for describing tests using natural language. The advantage of the natural language description is that non-technical stakeholder like a manager can read the test report and understand what was tested. You can find xBehave on Github. My Setup For writing tests I use the following NuGet packages and extensions: xUnit for unit testing xBehave for acceptance tests FluentAssertions for more readable assertions FakeItEasy to create fake objects xUnit Resharper Extension for xUnit shortcuts in Visual Studio xunit.runner.visualstudio for running the xBehave tests To start, I use the code of my last demo which can be found on Github. Execute tests with xBehave A test in xBehave always has the attribute Scenario. As previously mentioned, xBehave describes the tests using natural language. The default describing patter is Given, When, Then. Other patterns are possible like the classic Arrange, Act, Assert or xSpec style with Establish, Because, It. You could even extend xBehave and use your own attribute name and vocabulary. If you have more than one operation for the same, you can combine them with And, for example, “Given an employee” “And another employee”. Given In the Given or Arrange phase, you set up all the objects you need to run your test. In my example test, I only need one employee object, You could set up several objects and combine them with And. Setting up two employee objects for the tests When In the When or Act phase, you call the methods, you want to test. In my example, I add the hours worked during the week to my employee. Executing a method with my test object Then In the Then or Assert phase, you check if the value or result is what you expected. In my example, I check if the salary of the employee has the value I expect. Evaluate the result of the previous operation Repeating steps You can always return to a previous phase. For example, after the salary check from above, you can have another method call with when and then another assert with then. Repeating testing steps Executing code before the test In xUnit, the constructor of the class is called before a test is executed. xBehave is very similar, but instead of the constructor, it calls the method with the Background attribute. Usually, the method is also called Background but you can choose whatever name fits best for you. Setting up code before the test execution Adding parameters to your test In xBehave you can add parameters to your test with the parameter Example. It works the same way as InlindeData in xUnit. You add values and then have matching parameters in the method signature. Add parameters to your test Instead of Example, you can use any attribute which inherits from DataAttribute, for example, MemberData. Variables inside your test If you want to assign a value to a variable within your test, you can pass this variable as a parameter. Each parameter which does not have a corresponding example value (based purely on the number of values/parameters) continues to have its default value passed (null for reference types and zero values for value types). Adding a variable as a parameter to be used in the test Skipping a scenario To exclude a scenario from execution, you can apply the skip attribute and provide a message. It works the same way as in xUnit. Skipping a scenario Faking objects and calls within the test You can set up fake objects and fake calls the same way as in xUnit, using a faking framework like FakeItEasy. Faking objects inside the test (Source xBehave) Teardown If your code needs some cleanup after execution, xBehave provides you with the Teardown method. Provide a delegate to the Teardown method and xBehave will execute your method after the test was run or if an exception occured. On the following screenshot, you can see that in the Teardown method, the employee object calls the Destroy method which does whatever is necessary to clean up the employee object. Teardown an object Conclusion In this post, I gave a quick overview of xBehave and explained how to set up your scenarios and how to clean up afterward. You can find the code of my demo on Github." /><meta property="og:description" content="In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xUnit for describing tests using natural language. The advantage of the natural language description is that non-technical stakeholder like a manager can read the test report and understand what was tested. You can find xBehave on Github. My Setup For writing tests I use the following NuGet packages and extensions: xUnit for unit testing xBehave for acceptance tests FluentAssertions for more readable assertions FakeItEasy to create fake objects xUnit Resharper Extension for xUnit shortcuts in Visual Studio xunit.runner.visualstudio for running the xBehave tests To start, I use the code of my last demo which can be found on Github. Execute tests with xBehave A test in xBehave always has the attribute Scenario. As previously mentioned, xBehave describes the tests using natural language. The default describing patter is Given, When, Then. Other patterns are possible like the classic Arrange, Act, Assert or xSpec style with Establish, Because, It. You could even extend xBehave and use your own attribute name and vocabulary. If you have more than one operation for the same, you can combine them with And, for example, “Given an employee” “And another employee”. Given In the Given or Arrange phase, you set up all the objects you need to run your test. In my example test, I only need one employee object, You could set up several objects and combine them with And. Setting up two employee objects for the tests When In the When or Act phase, you call the methods, you want to test. In my example, I add the hours worked during the week to my employee. Executing a method with my test object Then In the Then or Assert phase, you check if the value or result is what you expected. In my example, I check if the salary of the employee has the value I expect. Evaluate the result of the previous operation Repeating steps You can always return to a previous phase. For example, after the salary check from above, you can have another method call with when and then another assert with then. Repeating testing steps Executing code before the test In xUnit, the constructor of the class is called before a test is executed. xBehave is very similar, but instead of the constructor, it calls the method with the Background attribute. Usually, the method is also called Background but you can choose whatever name fits best for you. Setting up code before the test execution Adding parameters to your test In xBehave you can add parameters to your test with the parameter Example. It works the same way as InlindeData in xUnit. You add values and then have matching parameters in the method signature. Add parameters to your test Instead of Example, you can use any attribute which inherits from DataAttribute, for example, MemberData. Variables inside your test If you want to assign a value to a variable within your test, you can pass this variable as a parameter. Each parameter which does not have a corresponding example value (based purely on the number of values/parameters) continues to have its default value passed (null for reference types and zero values for value types). Adding a variable as a parameter to be used in the test Skipping a scenario To exclude a scenario from execution, you can apply the skip attribute and provide a message. It works the same way as in xUnit. Skipping a scenario Faking objects and calls within the test You can set up fake objects and fake calls the same way as in xUnit, using a faking framework like FakeItEasy. Faking objects inside the test (Source xBehave) Teardown If your code needs some cleanup after execution, xBehave provides you with the Teardown method. Provide a delegate to the Teardown method and xBehave will execute your method after the test was run or if an exception occured. On the following screenshot, you can see that in the Teardown method, the employee object calls the Destroy method which does whatever is necessary to clean up the employee object. Teardown an object Conclusion In this post, I gave a quick overview of xBehave and explained how to set up your scenarios and how to clean up afterward. You can find the code of my demo on Github." /><link rel="canonical" href="https://www.programmingwithwolfgang.com/xbehave-getting-started/" /><meta property="og:url" content="https://www.programmingwithwolfgang.com/xbehave-getting-started/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-01-30T23:30:26+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="xBehave - Getting Started" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.programmingwithwolfgang.com/xbehave-getting-started/"},"author":{"@type":"Person","name":"Wolfgang Ofner"},"url":"https://www.programmingwithwolfgang.com/xbehave-getting-started/","description":"In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xUnit for describing tests using natural language. The advantage of the natural language description is that non-technical stakeholder like a manager can read the test report and understand what was tested. You can find xBehave on Github. My Setup For writing tests I use the following NuGet packages and extensions: xUnit for unit testing xBehave for acceptance tests FluentAssertions for more readable assertions FakeItEasy to create fake objects xUnit Resharper Extension for xUnit shortcuts in Visual Studio xunit.runner.visualstudio for running the xBehave tests To start, I use the code of my last demo which can be found on Github. Execute tests with xBehave A test in xBehave always has the attribute Scenario. As previously mentioned, xBehave describes the tests using natural language. The default describing patter is Given, When, Then. Other patterns are possible like the classic Arrange, Act, Assert or xSpec style with Establish, Because, It. You could even extend xBehave and use your own attribute name and vocabulary. If you have more than one operation for the same, you can combine them with And, for example, “Given an employee” “And another employee”. Given In the Given or Arrange phase, you set up all the objects you need to run your test. In my example test, I only need one employee object, You could set up several objects and combine them with And. Setting up two employee objects for the tests When In the When or Act phase, you call the methods, you want to test. In my example, I add the hours worked during the week to my employee. Executing a method with my test object Then In the Then or Assert phase, you check if the value or result is what you expected. In my example, I check if the salary of the employee has the value I expect. Evaluate the result of the previous operation Repeating steps You can always return to a previous phase. For example, after the salary check from above, you can have another method call with when and then another assert with then. Repeating testing steps Executing code before the test In xUnit, the constructor of the class is called before a test is executed. xBehave is very similar, but instead of the constructor, it calls the method with the Background attribute. Usually, the method is also called Background but you can choose whatever name fits best for you. Setting up code before the test execution Adding parameters to your test In xBehave you can add parameters to your test with the parameter Example. It works the same way as InlindeData in xUnit. You add values and then have matching parameters in the method signature. Add parameters to your test Instead of Example, you can use any attribute which inherits from DataAttribute, for example, MemberData. Variables inside your test If you want to assign a value to a variable within your test, you can pass this variable as a parameter. Each parameter which does not have a corresponding example value (based purely on the number of values/parameters) continues to have its default value passed (null for reference types and zero values for value types). Adding a variable as a parameter to be used in the test Skipping a scenario To exclude a scenario from execution, you can apply the skip attribute and provide a message. It works the same way as in xUnit. Skipping a scenario Faking objects and calls within the test You can set up fake objects and fake calls the same way as in xUnit, using a faking framework like FakeItEasy. Faking objects inside the test (Source xBehave) Teardown If your code needs some cleanup after execution, xBehave provides you with the Teardown method. Provide a delegate to the Teardown method and xBehave will execute your method after the test was run or if an exception occured. On the following screenshot, you can see that in the Teardown method, the employee object calls the Destroy method which does whatever is necessary to clean up the employee object. Teardown an object Conclusion In this post, I gave a quick overview of xBehave and explained how to set up your scenarios and how to clean up afterward. You can find the code of my demo on Github.","@type":"BlogPosting","headline":"xBehave - Getting Started","dateModified":"2020-12-28T18:28:32+01:00","datePublished":"2019-01-30T23:30:26+01:00","@context":"https://schema.org"}</script><title>xBehave - Getting Started | Programming With Wolfgang</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/author/wolfgang-small.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/wolfgangofner" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@')" aria-label="email" class="order-6" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-7" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>xBehave - Getting Started</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> xBehave - Getting Started</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>xBehave - Getting Started</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Jan 30, 2019, 11:30 PM +0100" > Jan 30, 2019 <i class="unloaded">2019-01-30T23:30:26+01:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Dec 28, 2020, 6:28 PM +0100" > Dec 28, 2020 <i class="unloaded">2020-12-28T18:28:32+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="732 words">8 min</span></div></div><div class="post-content"><p>In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xUnit for describing tests using natural language. The advantage of the natural language description is that non-technical stakeholder like a manager can read the test report and understand what was tested. You can find <a href="http://xbehave.github.io/" target="_blank" rel="noopener">xBehave on Github</a>.</p><h2 id="my-setup">My Setup</h2><p>For writing tests I use the following NuGet packages and extensions:</p><ul><li><a href="https://github.com/xunit/xunit" target="_blank" rel="noopener">xUnit </a>for unit testing<li>xBehave for acceptance tests<li><a href="https://fluentassertions.com/" target="_blank" rel="noopener">FluentAssertions</a> for more readable assertions<li><a href="https://fakeiteasy.github.io/" target="_blank" rel="noopener">FakeItEasy</a> to create fake objects<li><a href="https://resharper-plugins.jetbrains.com/packages/xunitcontrib/" target="_blank" rel="noopener">xUnit Resharper Extension</a> for xUnit shortcuts in Visual Studio<li><a href="https://www.nuget.org/packages/xunit.runner.visualstudio" target="_blank" rel="noopener">xunit.runner.visualstudio</a> for running the xBehave tests</ul><p>To start, I use the code of my last demo which can be found on <a href="https://github.com/WolfgangOfner/xUnit-Getting-Started" target="_blank" rel="noopener">Github</a>.</p><h2 id="execute-tests-with-xbehave">Execute tests with xBehave</h2><p>A test in xBehave always has the attribute Scenario. As previously mentioned, xBehave describes the tests using natural language. The default describing patter is Given, When, Then. Other patterns are possible like the classic Arrange, Act, Assert or xSpec style with Establish, Because, It. You could even <a href="https://github.com/xbehave/xbehave.net/wiki/Extending-xBehave.net" target="_blank" rel="noopener">extend xBehave</a> and use your own attribute name and vocabulary. If you have more than one operation for the same, you can combine them with And, for example, “Given an employee” “And another employee”.</p><h3 id="given">Given</h3><p>In the Given or Arrange phase, you set up all the objects you need to run your test. In my example test, I only need one employee object, You could set up several objects and combine them with And.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Setting-up-two-employee-objects-for-the-tests.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Setting-up-two-employee-objects-for-the-tests.jpg" alt="Setting up two employee objects for the xBehave tests" /></a><p> Setting up two employee objects for the tests</p></div><h3 id="when">When</h3><p>In the When or Act phase, you call the methods, you want to test. In my example, I add the hours worked during the week to my employee.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Executing-a-method-with-my-test-object.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Executing-a-method-with-my-test-object.jpg" alt="Executing a method with my test object" /></a><p> Executing a method with my test object</p></div><h3 id="then">Then</h3><p>In the Then or Assert phase, you check if the value or result is what you expected. In my example, I check if the salary of the employee has the value I expect.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Evaluate-the-result-of-the-previous-operation.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Evaluate-the-result-of-the-previous-operation.jpg" alt="Evaluate the result of the previous operation" /></a><p> Evaluate the result of the previous operation</p></div><h3 id="repeating-steps">Repeating steps</h3><p>You can always return to a previous phase. For example, after the salary check from above, you can have another method call with when and then another assert with then.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Repeating-testing-steps.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Repeating-testing-steps.jpg" alt="Repeating testing steps" /></a><p> Repeating testing steps</p></div><h2 id="executing-code-before-the-test">Executing code before the test</h2><p>In xUnit, the constructor of the class is called before a test is executed. xBehave is very similar, but instead of the constructor, it calls the method with the Background attribute. Usually, the method is also called Background but you can choose whatever name fits best for you.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Setting-up-code-before-the-test-execution.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Setting-up-code-before-the-test-execution.jpg" alt="Setting up code before the test execution" /></a><p> Setting up code before the test execution</p></div><h2 id="adding-parameters-to-your-test">Adding parameters to your test</h2><p>In xBehave you can add parameters to your test with the parameter Example. It works the same way as InlindeData in xUnit. You add values and then have matching parameters in the method signature.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Add-parameter-to-your-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Add-parameter-to-your-test.jpg" alt="Add parameter to your test" /></a><p> Add parameters to your test</p></div><p>Instead of Example, you can use any attribute which inherits from DataAttribute, for example, MemberData.</p><h3 id="variables-inside-your-test">Variables inside your test</h3><p>If you want to assign a value to a variable within your test, you can pass this variable as a parameter. Each parameter which does not have a corresponding example value (based purely on the number of values/parameters) continues to have its default value passed (null for reference types and zero values for value types).</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Adding-a-variable-as-parameter-to-be-used-in-the-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Adding-a-variable-as-parameter-to-be-used-in-the-test.jpg" alt="Adding a variable as parameter to be used in the test" /></a><p> Adding a variable as a parameter to be used in the test</p></div><h2 id="skipping-a-scenario">Skipping a scenario</h2><p>To exclude a scenario from execution, you can apply the skip attribute and provide a message. It works the same way as in xUnit.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Skipping-a-scenario.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Skipping-a-scenario.jpg" alt="Skipping a scenario" /></a><p> Skipping a scenario</p></div><h2 id="faking-objects-and-calls-within-the-test">Faking objects and calls within the test</h2><p>You can set up fake objects and fake calls the same way as in xUnit, using a faking framework like FakeItEasy.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Faking-objects-inside-the-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Faking-objects-inside-the-test.jpg" alt="Faking objects inside the test" /></a><p> Faking objects inside the test (<a href="https://github.com/xbehave/xbehave.net/wiki/Can-I-use-xbehave.net-with-isolation-%28faking-mocking-substitution%29-libraries%3F" target="_blank" rel="noopener">Source xBehave</a>)</p></div><h2 id="teardown">Teardown</h2><p>If your code needs some cleanup after execution, xBehave provides you with the Teardown method. Provide a delegate to the Teardown method and xBehave will execute your method after the test was run or if an exception occured. On the following screenshot, you can see that in the Teardown method, the employee object calls the Destroy method which does whatever is necessary to clean up the employee object.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Teardown-an-object.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Teardown-an-object.jpg" alt="Teardown an object" /></a><p> Teardown an object</p></div><h2 id="conclusion">Conclusion</h2><p>In this post, I gave a quick overview of xBehave and explained how to set up your scenarios and how to clean up afterward.</p><p>You can find the code of my demo on <a href="https://github.com/WolfgangOfner/xBehave-Getting-Started" target="_blank" rel="noopener">Github</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/atdd/" class="post-tag no-text-decoration" >ATDD</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/tdd/" class="post-tag no-text-decoration" >TDD</a> <a href="/tags/xbehave/" class="post-tag no-text-decoration" >xBehave</a> <a href="/tags/xunit/" class="post-tag no-text-decoration" >xUnit</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=xBehave - Getting Started - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/xbehave-getting-started/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=xBehave - Getting Started - Programming With Wolfgang&u=https://www.programmingwithwolfgang.com/xbehave-getting-started/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=xBehave - Getting Started - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/xbehave-getting-started/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.programmingwithwolfgang.com/xbehave-getting-started/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/microservice-series-from-zero-to-hero/">Microservice Series - From Zero to Hero</a><li><a href="/manage-resources-kubernetes/">Manage Resources in Kubernetes</a><li><a href="/helm-getting-started/">Helm - Getting Started</a><li><a href="/mediator-pattern-in-asp-net-core-3-1/">Mediator Pattern in ASP .NET Core 3.1</a><li><a href="/override-appsettings-in-kubernetes/">Override Appsettings in Kubernetes</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/70-532/">70-532</a> <a class="post-tag" href="/tags/certification/">Certification</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/exam/">Exam</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/net-core/">NET Core</a> <a class="post-tag" href="/tags/ci/">CI</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/tdd-kata/"><div class="card-body"> <span class="timeago small" > Dec 9, 2018 <i class="unloaded">2018-12-09T16:31:21+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>TDD Kata</h3><div class="text-muted small"><p> Nowadays it should be a no-brainer to write automated tests when developing or changing features. Unfortunately, the reality is different. In the last couple of weeks, I worked with several teams w...</p></div></div></a></div><div class="card"> <a href="/xunit-getting-started/"><div class="card-body"> <span class="timeago small" > Jan 27, 2019 <i class="unloaded">2019-01-27T21:57:57+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>xUnit - Getting Started</h3><div class="text-muted small"><p> In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .Net framework and was written by the inventor of NUnit v2. M...</p></div></div></a></div><div class="card"> <a href="/creating-a-microservice-with-net-core-3-1/"><div class="card-body"> <span class="timeago small" > Jul 21, 2020 <i class="unloaded">2020-07-21T18:53:20+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Creating a Microservice with .NET Core 3.1</h3><div class="text-muted small"><p> Using a microservice architecture is a topic that is present at every conference for quite some time already. In my work as a consultant, I often have to train development teams about the basics of...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/xunit-getting-started/" class="btn btn-outline-primary"><p>xUnit - Getting Started</p></a> <a href="/net-standard-getting-started/" class="btn btn-outline-primary"><p>.Net Standard - Getting Started</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://www.programmingwithwolfgang.com/xbehave-getting-started/'; this.page.identifier = '/xbehave-getting-started/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/70-532/">70 532</a> <a class="post-tag" href="/tags/certification/">Certification</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/exam/">Exam</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/net-core/">NET Core</a> <a class="post-tag" href="/tags/ci/">CI</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.programmingwithwolfgang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
