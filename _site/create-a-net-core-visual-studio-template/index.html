<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Create a .NET Core Visual Studio Template" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en" /><meta name="description" content="All my microservice projects have the same structure, and therefore I created a Visual Studio template that sets up everything for me." /><meta property="og:description" content="All my microservice projects have the same structure, and therefore I created a Visual Studio template that sets up everything for me." /><link rel="canonical" href="/create-a-net-core-visual-studio-template/" /><meta property="og:url" content="/create-a-net-core-visual-studio-template/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-27T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Create a .NET Core Visual Studio Template" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Wolfgang Ofner"},"dateModified":"2020-07-27T00:00:00+02:00","datePublished":"2020-07-27T00:00:00+02:00","description":"All my microservice projects have the same structure, and therefore I created a Visual Studio template that sets up everything for me.","headline":"Create a .NET Core Visual Studio Template","mainEntityOfPage":{"@type":"WebPage","@id":"/create-a-net-core-visual-studio-template/"},"url":"/create-a-net-core-visual-studio-template/"}</script><title>Create a .NET Core Visual Studio Template | Programming With Wolfgang</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Programming With Wolfgang"><meta name="application-name" content="Programming With Wolfgang"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> (function (c, l, a, r, i, t, y) { c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) }; t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i; y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y); })(window, document, "clarity", "script", "hc0wl2v6mn"); </script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-microphone ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a><li class="nav-item"> <a href="/videos/" class="nav-link"> <i class="fa-fw fas fa-video ml-xl-3 mr-xl-3 unloaded"></i> <span>VIDEOS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="w-100" style="margin-top: 1em; text-align: center;"> <img src="/assets/img/author/azure-solutions-architect-expert.png" alt="Azure Solutions Architect Expert" width="200px" height="200px"></div><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <a href="https://github.com/wolfgangofner" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/channel/UCmiFK5vpvsi6j6gD7W_rsVQ" aria-label="Youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Create a .NET Core Visual Studio Template</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Create a .NET Core Visual Studio Template</h1><div class="post-meta text-muted d-flex flex-column"><div> <span> Posted <em class="" data-ts="1595800800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 27, 2020 </em> </span> by <span class="author"> By <em> Wolfgang Ofner </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1234 words"> <em>14 min</em></span> read</div></div><div class="post-content"><p>Over the last couple of weeks, I created several microservices with the same project structure. Setting up a new solution was quite repetitive, time-consuming, and no to be honest no fun. Since my solutions have the same structure, I created a Visual Studio template that sets up everything for me. Today, I want to show you how to create your Visual Studio template with ASP .NET MVC with .NET Core 3.1 and Docker.</p><h2 id="creating-a-visual-studio-template"><span class="mr-2">Creating a Visual Studio Template</span><a href="#creating-a-visual-studio-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I plan to create a skeleton for my solution and when creating a new project with my template to take the user input as the name for the projects and the entities. For example, if the user names the solution Customer, I will create a Customer.Api, Customer.Service and Customer.Data project and also a Customer entity. You can find the code of the demo on <a href="https://github.com/WolfgangOfner/VisualStudioTemplate" target="_blank" rel="noopener noreferrer">GitHub</a>. Note that there are two branches.</p><h3 id="creating-the-structure-of-the-project-for-the-visual-studio-template"><span class="mr-2">Creating the Structure of the Project for the Visual Studio Template</span><a href="#creating-the-structure-of-the-project-for-the-visual-studio-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The first step is to create the structure of your Visual Studio template. Therefore, I created an empty C# solution and add three projects, Template.Api, Template.Service and Template.Data. For the template, you can install any NuGet you want or add code. I added a controller that calls a service that calls a repository to get some data.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Visual-Studio-Template-Project-Structure.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Visual-Studio-Template-Project-Structure.jpg" alt="Visual Studio Template Project Structure" data-proofer-ignore></a><p> Visual Studio Template Project Structure</p></div><p>Additionally, I added Swagger to have a UI to test the Api method. When you are satisfied with your project, run it. You should see the Swagger UI now.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/The-Swagger-UI-for-the-template.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/The-Swagger-UI-for-the-template.jpg" alt="The Swagger UI for the template" data-proofer-ignore></a><p> The Swagger UI for the template</p></div><p>As the last step, I test the Get method to verify that everything works correctly.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Testing-the-Template-Api.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Testing-the-Template-Api.jpg" alt="Testing the Template Api" data-proofer-ignore></a><p> Testing the Template Api</p></div><p>The template is set up and as the next step, I am going to export it and install it in Visual Studio.</p><h3 id="export-the-template"><span class="mr-2">Export the Template</span><a href="#export-the-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To export the Visual Studio Template, click on Project and then Export Template.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Export-the-Visual-Studio-Template.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Export-the-Visual-Studio-Template.jpg" alt="Export the Visual Studio Template" data-proofer-ignore></a><p> Export the Visual Studio Template</p></div><p>This opens a new window in which you can select what template you want to export and which project. Leave it as Project template, select the Template.Api project and click on Next.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Choose-which-Project-to-export.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Choose-which-Project-to-export.jpg" alt="Choose which Project to export" data-proofer-ignore></a><p> Choose which Project to export</p></div><p>On the last page of the export, uncheck both checkboxes and click Finish.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Finish-the-Export.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Finish-the-Export.jpg" alt="Finish the Export" data-proofer-ignore></a><p> Finish the Export</p></div><p>Repeat this export for all other projects in your solution. After you are finished, you can find the exported files under C:\Users&lt;YourUserName&gt;\Documents\Visual Studio <YourVersion>\My Exported Templates.</YourVersion></p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/The-exported-.zip-files.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/The-exported-.zip-files.jpg" alt="The exported .zip files" data-proofer-ignore></a><p> The exported .zip files</p></div><p>Unzip every zip file into a separate folder and delete the zip files. I get quite often a warning that the file header is corrupt during the unzip. You can ignore this message though. Next, create a file with a vstemplate ending, for example, Template.vstemplate in the folder where you unzipped your templates. This file contains links to all projects in the template in the XML format. Copy the following code into the file:</p><script src="https://gist.github.com/WolfgangOfner/229af764866ecff2f292b4aa8cfadcfb.js"></script><p>Save the file and create a zip of the three folder and the template file. You can easily do this by highlighting everything and the right-click and then select Send to –&gt; Compressed (zipped) folder. Your folder should contain the following files and directories now:</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Content-of-the-template-folder-after-finishing-the-creation-of-the-template.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Content-of-the-template-folder-after-finishing-the-creation-of-the-template.jpg" alt="Content of the template folder after finishing the creation of the template" data-proofer-ignore></a><p> Content of the template folder after finishing the creation of the template</p></div><h3 id="install-the-visual-studio-template"><span class="mr-2">Install the Visual Studio Template</span><a href="#install-the-visual-studio-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To install the template, all you have to do is to copy the Template.zip file into the following folder: C:\Users&lt;YourNameUser&gt;\Documents\Visual Studio <YourVersion>\Templates\ProjectTemplates\Visual C#. Alternatively, you could copy the file into the ProjectTemplates folder.</YourVersion></p><h3 id="testing-the-new-template"><span class="mr-2">Testing the new Template</span><a href="#testing-the-new-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Open Visual Studio and select Create a new project. Search for My Template and the previously added template will be displayed.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Select-your-template-in-Visual-Studio.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Select-your-template-in-Visual-Studio.jpg" alt="Select your template in Visual Studio" data-proofer-ignore></a><p> Select your template in Visual Studio</p></div><p>Create the project and you will see the same structure as in the template. When you start the project, you will see the Swagger UI and can test the Api methods.</p><h2 id="make-the-template-flexible-with-variables"><span class="mr-2">Make the Template flexible with Variables</span><a href="#make-the-template-flexible-with-variables" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Having a template is nice but it would be even nicer if the projects weren’t named Template and if they would take the name I provide. To achieve this, Visual Studio offers template parameters. You can find all available parameters <a href="https://docs.microsoft.com/en-us/visualstudio/ide/template-parameters?view=vs-2019" target="_blank" rel="noopener noreferrer">here</a>. The goal is to name the projects and files accordingly to the user input during the creation of the solution. To do this, I use the variable safeprojectname. This variable gives you the name of the current project. To get the name of the solution prefix it with ext_, therefore I will use ext_safeprojectname. All variables have a Dollar sign at the beginning and the end.</p><h3 id="replace-class-names-and-namespaces-with-variables"><span class="mr-2">Replace Class Names and Namespaces with Variables</span><a href="#replace-class-names-and-namespaces-with-variables" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>I am replacing in all files Template with $ext_safeprojectname$, for example, the TemplateService class:</p><script src="https://gist.github.com/WolfgangOfner/1629d3667f6b174b89809c2cd80bc5f1.js"></script><p>Adding the variable also adds a lot of errors in your solution. You can ignore them though.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Errors-after-adding-the-template-variables.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Errors-after-adding-the-template-variables.jpg" alt="Errors after adding the template variables" data-proofer-ignore></a><p> Errors after adding the template variables</p></div><h3 id="replace-file-names-with-variables"><span class="mr-2">Replace File Names with Variables</span><a href="#replace-file-names-with-variables" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Not only class names and namespaces should have the provided name, but also the classes should be named accordingly. You can do the same as before and replace Template in all file names with $ext_safeprojectname$. You don’t have to change the project name though.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Replace-the-file-names-with-variables.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Replace-the-file-names-with-variables.jpg" alt="Replace the file names with variables" data-proofer-ignore></a><p> Replace the file names with variables</p></div><h3 id="export-the-template-1"><span class="mr-2">Export the Template</span><a href="#export-the-template-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Repeat the export from before by clicking on Project –&gt; Export Template and export all your projects. Delete your previously created folders and unzipp the exported zip files. In the vstemplate file, replace Template with $safeprojectname$. This will rename the project files. Also make sure that CopyParameters=”true” is set for every project. Otherwise, the user input won’t be copied and the variables will be empty.</p><script src="https://gist.github.com/WolfgangOfner/ec0775b23b1439aea19eb772a6354dca.js"></script><p>Zip all files and copy the zip over the previously created zip in the Visual C# folder. Create a new project and select your template and enter Customer as project name. If you did everything right, all files and projects should be named correctly and the project should build without an error. It is very easy to have errors on the first try since you don’t have any help to find errors in the template and every typo will result in a build error.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/All-files-got-renamed-correctly.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/All-files-got-renamed-correctly.jpg" alt="All files got renamed correctly from the Visual Studio Template" data-proofer-ignore></a><p> All files got renamed correctly</p></div><p>When you don’t have any error, run the project and you should see Customer in the headline, description and Controller.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/Testing-the-created-solution.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/Testing-the-created-solution.jpg" alt="Testing the created solution from the Visual Studio Template" data-proofer-ignore></a><p> Testing the created solution</p></div><h2 id="add-docker-support-to-the-visual-studio-template"><span class="mr-2">Add Docker Support to the Visual Studio Template</span><a href="#add-docker-support-to-the-visual-studio-template" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Adding Docker support to your Visual Studio Template is very simple. Right-click on your Template.Api project and select Add –&gt; Docker Support. Select an operating system and click OK. This adds a Dockerfile and that’s it already.</p><script src="https://gist.github.com/WolfgangOfner/edbe0cf32976011fc649b4049ed437b9.js"></script><h3 id="use-variables-in-the-dockerfile"><span class="mr-2">Use Variables in the Dockerfile</span><a href="#use-variables-in-the-dockerfile" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Since we use variables everywhere, we have to use variables also in the Dockerfile because otherwise the projects wouldn’t be found since their name will change when the solution is created. Replace every Template with $ext_safeprojectname$ in the Dockerfile. When you are done export the project again. This time you only have to export the Api project.</p><p>After adding the new template to Visual Studio, create a new project and you will see the Dockerfile in your solution.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/07/The-Dockerfile-is-in-the-created-project.jpg"><img loading="lazy" data-src="/assets/img/posts/2020/07/The-Dockerfile-is-in-the-created-project.jpg" alt="The Dockerfile is in the created project from the Visual Studio Template" data-proofer-ignore></a><p> The Dockerfile is in the created project</p></div><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Use a Visual Studio Template to set up solutions that have the same structure. Microservices often have the same skeleton and are a great candidate for this. Templates allow you to install all NuGet packages and also to add Test projects. Another advantage is that even junior developers or interns can set up new projects.</p><p>You can find the code for the template without variables <a href="https://github.com/WolfgangOfner/VisualStudioTemplate/tree/withoutVariables" target="_blank" rel="noopener noreferrer">here</a> and the template with variables <a href="https://github.com/WolfgangOfner/VisualStudioTemplate" target="_blank" rel="noopener noreferrer">here</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/miscellaneous/'>Miscellaneous</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/net-core-3-1/" class="post-tag no-text-decoration" >.NET Core 3.1</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/visual-studio/" class="post-tag no-text-decoration" >Visual Studio</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Create+a+.NET+Core+Visual+Studio+Template+-+Programming+With+Wolfgang&url=%2Fcreate-a-net-core-visual-studio-template%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Create+a+.NET+Core+Visual+Studio+Template+-+Programming+With+Wolfgang&u=%2Fcreate-a-net-core-visual-studio-template%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Create+a+.NET+Core+Visual+Studio+Template+-+Programming+With+Wolfgang&url=%2Fcreate-a-net-core-visual-studio-template%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fcreate-a-net-core-visual-studio-template%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/programming-microservices-net-core-3-1/"><div class="card-body"> <em class="small" data-ts="1586728800" data-df="ll" > Apr 13, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Programming a Microservice with .NET Core 3.1</h3><div class="text-muted small"><p> In my last post, I talked about the theory of a microservice. Today it is going to be more practical. I will create two microservices using ASP .NET Core 3.1. Over the next posts., I will extend th...</p></div></div></a></div><div class="card"> <a href="/document-your-microservice-with-swagger/"><div class="card-body"> <em class="small" data-ts="1586901600" data-df="ll" > Apr 15, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Document your Microservice with Swagger</h3><div class="text-muted small"><p> Swagger is an open-source toolset that can be easily integrated into your solution and helps you to document and test your APIs. It is so simple that even non-technical people can use it. In my la...</p></div></div></a></div><div class="card"> <a href="/cqrs-in-asp-net-core-3-1/"><div class="card-body"> <em class="small" data-ts="1586988000" data-df="ll" > Apr 16, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CQRS in ASP .NET Core 3.1</h3><div class="text-muted small"><p> CQRS stands for Command Query Responsibility Segregation and is used to use different models for read and for write operations. In this post, I will explain how I implemented CQRS in my microservic...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/creating-a-microservice-with-net-core-3-1/" class="btn btn-outline-primary" prompt="Older"><p>Creating a Microservice with .NET Core 3.1</p></a> <a href="/create-net-core-in-ci-pipeline-in-azure-devops/" class="btn btn-outline-primary" prompt="Newer"><p>Create a .NET Core CI Pipeline in Azure DevOps</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = '/create-a-net-core-visual-studio-template/'; this.page.identifier = '/create-a-net-core-visual-studio-template/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://programmingwithwolfgang.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/azure-arc/">Azure Arc</a> <a class="post-tag" href="/tags/learning/">Learning</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script>
