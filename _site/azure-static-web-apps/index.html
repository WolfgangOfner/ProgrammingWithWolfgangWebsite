<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Azure Static Web Apps" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="Azure Static Web Apps allow you to host your static websites for free. You can use HTML, plain Javascript of front-end frameworks like Angular or React." /><meta property="og:description" content="Azure Static Web Apps allow you to host your static websites for free. You can use HTML, plain Javascript of front-end frameworks like Angular or React." /><link rel="canonical" href="https://www.programmingwithwolfgang.com/azure-static-web-apps/" /><meta property="og:url" content="https://www.programmingwithwolfgang.com/azure-static-web-apps/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-30T00:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Azure Static Web Apps" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Wolfgang Ofner"},"@type":"BlogPosting","headline":"Azure Static Web Apps","dateModified":"2021-09-14T12:27:55+02:00","description":"Azure Static Web Apps allow you to host your static websites for free. You can use HTML, plain Javascript of front-end frameworks like Angular or React.","datePublished":"2020-05-30T00:00:00+02:00","url":"https://www.programmingwithwolfgang.com/azure-static-web-apps/","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.programmingwithwolfgang.com/azure-static-web-apps/"},"@context":"https://schema.org"}</script><title>Azure Static Web Apps | Programming With Wolfgang</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="author wolfgang ofner" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/wolfgangofner" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@')" aria-label="email" class="order-6" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-7" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Azure Static Web Apps</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Azure Static Web Apps</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Azure Static Web Apps</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, May 30, 2020, 12:00 AM +0200" > May 30, 2020 <i class="unloaded">2020-05-30T00:00:00+02:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 14, 2021, 12:27 PM +0200" > Sep 14 <i class="unloaded">2021-09-14T12:27:55+02:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1512 words">17 min</span></div></div><div class="post-content"><p>Azure Static Web Apps were announced at the Build conference this year and they allow you to host your static websites for free. You can use HTML, plain Javascript of front-end frameworks like Angular or React. The website retrieves data, if needed, from Azure Functions. A great feature of Azure Static Web Apps is that you don’t have to configure your CI/CD pipeline. This is done for you by Azure and Github using Git Actions.</p><p>Today, I want to show how to create a React front-end and how to retrieve data from an Azure Function. You can find the code of the React demo <a href="https://github.com/WolfgangOfner/React-Azure-Static-Web-App/tree/master" target="_blank" rel="noopener noreferrer">here</a> and the code of the Azure Function demo <a href="https://github.com/WolfgangOfner/Azure-Function-StaticWebApp" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 id="azure-functions">Azure Functions</h2><p>Azure Function is an event-driven serverless feature which can be used to automate workloads or connect different parts of an application. They can be flexible scaled and they offer different triggers, for example, run some code when a message is written to a queue when a web API call was made or many more. You can use different programming languages like Javascript, Node.js, or .NET Core.</p><p>Azure Functions offer a consumption plan, where you pay what you used, a premium plan, or an App Service plan. I like the consumption plan because it gives you 400,000 GB/s for free every month. This should be more than enough for small projects.</p><h3 id="creating-an-azure-function-in-the-azure-portal">Creating an Azure Function in the Azure Portal</h3><p>To create an Azure Function in the Azure portal, search for Function App, and click on Create. In the Basics tab of the creation process, enter your basic information like the resource group, the region, and the runtime.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Create-an-Azure-Function.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Create-an-Azure-Function.jpg" alt="Create an Azure Function" /></a><p> Create an Azure Function</p></div><p>In the next screenshot, you can see a summary of all my provided information. Note that I selected Windows as my operating system. First I wanted to use Linux but for whatever reason, I couldn’t deploy to the Linux Azure Function.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Reviewing-the-Azure-Function-before-creating-it.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Reviewing-the-Azure-Function-before-creating-it.jpg" alt="Reviewing the Azure Function before creating it" /></a><p> Reviewing the Azure Function before creating it</p></div><p>Click on Create and the Azure Function deployment starts.</p><h3 id="creating-an-azure-function-using-visual-studio">Creating an Azure Function using Visual Studio</h3><p>To create my Azure Function, I am using Visual Studio 2019. You can also use Visual Studio Code. If you want to use Javascript for your Azure Function, you even have to use VS Code since Visual Studio only supports C#. Create a new project and select the Azure Functions template.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Select-the-Azure-Function-template.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Select-the-Azure-Function-template.jpg" alt="Select the Azure Function template" /></a><p> Select the Azure Function template</p></div><p>In the next window select HTTP trigger and set the Authorization level to Anonymous. This configuration starts the code execution every time an HTTP request is received.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Select-Http-trigger-and-set-the-Authorization-level-to-Anonymous.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Select-Http-trigger-and-set-the-Authorization-level-to-Anonymous.jpg" alt="Select Http trigger and set the Authorization level to Anonymous" /></a><p> Select HTTP trigger and set the Authorization level to Anonymous</p></div><p>After the Azure Function is created, I change the code so it returns a JSON list of products:</p><script src="https://gist.github.com/WolfgangOfner/63c9b72c9a7ad295daad78277301ec36.js"></script><p>The Product class has the following properties:</p><script src="https://gist.github.com/WolfgangOfner/30a9272b04a95cb23c32756a437df30a.js"></script><p>Start the application and a console window will appear telling you the URL of your function. Enter this URL into your browser and you should see the JSON list displayed.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Testing-the-Azure-Function-locally.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Testing-the-Azure-Function-locally.jpg" alt="Testing the Azure Function locally" /></a><p> Testing the Azure Function locally</p></div><h3 id="deployment-of-the-azure-function">Deployment of the Azure Function</h3><p>You can deploy the Azure Function directly from within Visual Studio. You can deploy to an existing Azure Function or even create a new one. Since I already created one, I will deploy it to this one. To make things even easier, I will download the publish profile from the Function in the Azure portal by clicking on Get publish profile on the Overview tab.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Download-the-publish-profile-of-the-Azure-Function.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Download-the-publish-profile-of-the-Azure-Function.jpg" alt="Download the publish profile of the Azure Function" /></a><p> Download the publish profile of the Azure Function</p></div><p>After you downloaded the publish profile, in Visual Studio right-click on your project and select Publish. This opens a new window, select Import Profile and then select your previously downloaded publish profile.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Import-the-downloaded-publish-profile.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Import-the-downloaded-publish-profile.jpg" alt="Import the downloaded publish profile" /></a><p> Import the downloaded publish profile</p></div><p>After the publish profile is imported, click on Publish and the Azure Function will be published to Azure.</p><h3 id="configuring-and-testing-of-the-azure-function">Configuring and Testing of the Azure Function</h3><p>In the Azure portal, click on the Functions tab of your Azure Function. There you will see your previously deployed function.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/The-published-function-appears-in-the-Azure-Portal-under-Functions.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/The-published-function-appears-in-the-Azure-Portal-under-Functions.jpg" alt="The published function appears in the Azure Portal under Functions" /></a><p> The published function appears in the Azure Portal under Functions</p></div><p>Click on the Function (Function1 in my case) and then click on Test. This opens a new panel where you can send a request to your function to test its functionality.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Call-the-Azure-Function-to-test-its-functionality.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Call-the-Azure-Function-to-test-its-functionality.jpg" alt="Call the Azure Function to test its functionality" /></a><p> Call the Azure Function to test its functionality</p></div><p>Click on Run and the JSON list of your products should be displayed in the Output tab.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/The-function-returns-the-JSON-with-products.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/The-function-returns-the-JSON-with-products.jpg" alt="The function returns the JSON with products" /></a><p> The function returns the JSON with products</p></div><p>Next call the function from your browser. The URL is <YourAzureFunctionName>.azurewebsites.net/api/YourFunction. Enter the URL in your browser and you will see the JSON displayed.</YourAzureFunctionName></p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Test-the-function-call-in-the-browser.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Test-the-function-call-in-the-browser.jpg" alt="Test the function call in the browser" /></a><p> Test the function call in the browser</p></div><p>If we create the React app now and try to call the Azure Function, it won’t work. The reason why it won’t work is that CORS is not configured and therefore the request will be blocked. The configure CORS, open then the CORS tab, and enter http://localhost:3000. This will be the URL of the React app during the development.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Configure-CORS.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Configure-CORS.jpg" alt="Configure CORS" /></a><p> Configure CORS</p></div><p>I also tried * to allow all requests but it didn’t work for me.</p><h2 id="create-the-react-app-which-will-be-deployed-using-static-web-apps">Create the React App which will be deployed using Static Web Apps</h2><p>You should have basic knowledge of React. If you are new to React, take a look at the <a href="https://reactjs.org/docs/create-a-new-react-app.html" target="_blank" rel="noopener noreferrer">documentation</a> to install node.js and npm.</p><p>Open a new Powershell window and create a new react app with the following command:</p><script src="https://gist.github.com/WolfgangOfner/08c8213c18bdf6afd87a9537c3549c69.js"></script><p>This will create a react project, named react-static-web-app. Go inside the project folder in Powershell and open Visual Studio Code with the following code:</p><script src="https://gist.github.com/WolfgangOfner/401cb261f2452570e79b236503a8183d.js"></script><p>I will change the application to call my Azure Function and then display the returned list with Bootstrap cards. First, I create a new folder, called components, and create a new file inside this folder called products.js. Then I add the following code to the new file:</p><script src="https://gist.github.com/WolfgangOfner/a02b885c148ad79122d9f6d9693410dd.js"></script><p>This method takes a list of products and displays every item. The next step is to implement the Azure Function call in the App.js file.</p><script src="https://gist.github.com/WolfgangOfner/ab8d28eff46cac4b5649cead73a1d52f.js"></script><p>Lastly, I add the Bootstrap css file in the index.html file which is located in the Public folder.</p><script src="https://gist.github.com/WolfgangOfner/adea037d52d96f93b037bea9d30062c7.js"></script><p>Open a new terminal in VS Code and start the application with:</p><script src="https://gist.github.com/WolfgangOfner/5fd7eb8eebbdce5e8f47205f66eda99a.js"></script><p>This automatically opens your browser and should display your product list.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Testing-the-react-app-with-the-data-from-the-Azure-Function.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Testing-the-react-app-with-the-data-from-the-Azure-Function.jpg" alt="Testing the react app with the data from the Azure Function" /></a><p> Testing the React app with the data from the Azure Function</p></div><p>Check in the React app into Github and let’s deploy it with Static Web Apps.</p><h2 id="create-static-web-apps">Create Static Web Apps</h2><p>In the Azure portal, search for Static Web App and click on Create to start the deployment process.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Create-a-Static-Web-App.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Create-a-Static-Web-App.jpg" alt="Create a Static Web Apps" /></a><p> Create a Static Web App</p></div><p>On the Basics tab enter a name, select a region, and select your Github repository and branch. Note the region is only the initial region for the deployment. After the deployment, Static Web Apps deploys your application globally to give your users the best possible user experience.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Configure-the-Static-Web-App.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Configure-the-Static-Web-App.jpg" alt="Configure the Static Web Apps" /></a><p> Configure the Static Web App</p></div><p>On the Build tab, I removed the Api location because I have my Azure Function already deployed. The Static Web Apps are still in preview and I couldn’t deploy a C# Azure Function because the build failed. The build demanded that the direction of the function must be set in the function.json file. With C#, you can’t edit the function.json file because it is created during the build. I was able to deploy a Javascript Azure Function using Static Web Apps though.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Configure-the-location-of-the-app-and-api.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Configure-the-location-of-the-app-and-api.jpg" alt="Configure the location of the app and api" /></a><p> Configure the location of the app and api</p></div><p>On the following screenshot, you can see all my entered information. Click on Create and the deployment process starts.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Overview-of-the-Static-Web-App-before-creation.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Overview-of-the-Static-Web-App-before-creation.jpg" alt="Overview of the Static Web Apps before creation" /></a><p> Overview of the Static Web App before creation</p></div><p>After the deployment is finished, you can see the URL of the Static Web App and also a link to the created Github Action.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Overview-of-the-published-Static-Web-App.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Overview-of-the-published-Static-Web-App.jpg" alt="Overview of the published Static Web Apps" /></a><p> Overview of the published Static Web App</p></div><p>Click on GitHub Action runs and you will be redirected to the Action inside your Github repository.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/The-Git-Action-is-building-your-application.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/The-Git-Action-is-building-your-application.jpg" alt="The Git Action is building your application" /></a><p> The Git Action is building your application</p></div><p>Click on the CI/CD pipeline and you can see more detailed information.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/The-Git-Action-run-finished.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/The-Git-Action-run-finished.jpg" alt="The Git Action run finished" /></a><p> The Git Action run finished</p></div><p>Before you can test your deployed React app, you have to enter its URL in the CORS settings of your Azure Function. You can find the URL on the overview tab of your Static Web Apps.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Add-the-URL-of-the-Static-Web-App-to-the-CORS-Setting-of-the-Azure-Function.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Add-the-URL-of-the-Static-Web-App-to-the-CORS-Setting-of-the-Azure-Function.jpg" alt="Add the URL of the Static Web Apps to the CORS Setting of the Azure Function" /></a><p> Add the URL of the Static Web App to the CORS Setting of the Azure Function</p></div><p>After you entered the URL in the CORS settings, call it in your browser and you should see your React app displaying the list of products.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/05/Testing-the-Static-Web-App-with-the-Azure-Function.jpg"><img loading="lazy" src="/assets/img/posts/2020/05/Testing-the-Static-Web-App-with-the-Azure-Function.jpg" alt="Testing the Static Web Apps with the Azure Function" /></a><p> Testing the Static Web App with the Azure Function</p></div><h2 id="conclusion">Conclusion</h2><p>Static Web Apps are a great new feature to quickly deploy your static website and host it globally. The feature is still new and in preview therefore it is no surprise that everything is not working perfectly yet. Once all problems are solved, I think it will be a great tool for a simple website, especially since it is free.</p><p>In my next post, I will show you how to host your website for free and also extend the Azure Function to be able to read data from a database.</p><p>You can find the code of the React demo <a href="https://github.com/WolfgangOfner/React-Azure-Static-Web-App/tree/master" target="_blank" rel="noopener noreferrer">here</a> and the code of the Azure Function demo <a href="https://github.com/WolfgangOfner/Azure-Function-StaticWebApp" target="_blank" rel="noopener noreferrer">here</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/cloud/'>Cloud</a>, <a href='/categories/programming/'>Programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/azure-function/" class="post-tag no-text-decoration" >Azure Function</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/github-action/" class="post-tag no-text-decoration" >Github Action</a> <a href="/tags/react/" class="post-tag no-text-decoration" >React</a> <a href="/tags/static-web-apps/" class="post-tag no-text-decoration" >Static Web Apps</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Azure Static Web Apps - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/azure-static-web-apps/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Azure Static Web Apps - Programming With Wolfgang&u=https://www.programmingwithwolfgang.com/azure-static-web-apps/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Azure Static Web Apps - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/azure-static-web-apps/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.programmingwithwolfgang.com/azure-static-web-apps/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/microservice-series-from-zero-to-hero/">Microservice Series - From Zero to Hero</a><li><a href="/upgrade-microservice-net-core-3-1-net-5-0/">Upgrade a Microservice from .NET Core 3.1 to .NET 5.0</a><li><a href="/create-automatic-build-pipeline-for-net-core/">Create Automatic Builds for .NET and .NET Core Applications with Azure DevOps</a><li><a href="/net-core-3-0-whats-new/">.NET Core 3.0 - What's new</a><li><a href="/repository-pattern-net-core/">Repository Pattern in .NET Core</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/free-website-hosting-with-azure/"><div class="card-body"> <span class="timeago small" > Jun 7, 2020 <i class="unloaded">2020-06-07T00:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Free Website Hosting with Azure</h3><div class="text-muted small"><p> Last week, I talked about hosting your static website with Azure Static Web Apps. Today, I will extend this example using a free Cosmos DB for the website data and Azure Functions to retrieve them....</p></div></div></a></div><div class="card"> <a href="/azure-static-web-app-with-blazor/"><div class="card-body"> <span class="timeago small" > Oct 4, 2020 <i class="unloaded">2020-10-04T16:51:05+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Azure Static Web App with Blazor</h3><div class="text-muted small"><p> Last week at Ignite Microsoft announced that the preview of Azure Static Web App now also supports Blazor WebAssembly. In this post, I will show how to create a Blazor client-side (WebAssembly) app...</p></div></div></a></div><div class="card"> <a href="/implement-aad-authentication-to-access-azure-sql-databases/"><div class="card-body"> <span class="timeago small" > Nov 1 <i class="unloaded">2021-11-01T00:00:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Implement AAD Authentication to access Azure SQL Databases</h3><div class="text-muted small"><p> Microsoft promotes going passwordless for a while now. Azure offers authentication against the Azure Active Directory where applications can acquire access tokens using their identity. Another use ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/set-up-docker-compose-for-asp-net-core-3-1-microservices/" class="btn btn-outline-primary"><p>Set up Docker-Compose for ASP .NET Core 3.1 Microservices</p></a> <a href="/repository-pattern-net-core/" class="btn btn-outline-primary"><p>Repository Pattern in .NET Core</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://www.programmingwithwolfgang.com/azure-static-web-apps/'; this.page.identifier = '/azure-static-web-apps/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.programmingwithwolfgang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
