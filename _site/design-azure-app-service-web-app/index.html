<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Design Azure App Service Web App" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="Azure Web App provides a managed service for hosting your web applications and APIs with infrastructure services such as security, load balancing, and scaling provided as part of the service. Additionally, it has integrated DevOps experience from code repositories and from Docker image repositories." /><meta property="og:description" content="Azure Web App provides a managed service for hosting your web applications and APIs with infrastructure services such as security, load balancing, and scaling provided as part of the service. Additionally, it has integrated DevOps experience from code repositories and from Docker image repositories." /><link rel="canonical" href="https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" /><meta property="og:url" content="https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-05-07T18:47:57+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Design Azure App Service Web App" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Wolfgang Ofner"},"@type":"BlogPosting","headline":"Design Azure App Service Web App","dateModified":"2021-08-09T22:41:12+02:00","description":"Azure Web App provides a managed service for hosting your web applications and APIs with infrastructure services such as security, load balancing, and scaling provided as part of the service. Additionally, it has integrated DevOps experience from code repositories and from Docker image repositories.","datePublished":"2018-05-07T18:47:57+02:00","url":"https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/"},"@context":"https://schema.org"}</script><title>Design Azure App Service Web App | Programming With Wolfgang</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/author/author-wolfgang-ofner.jpg" alt="author wolfgang ofner" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div><div class="w-100 d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="w-100" style="margin-top: 1em;"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/wolfgangofner" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@')" aria-label="email" class="order-6" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-7" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Design Azure App Service Web App</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Design Azure App Service Web App</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Design Azure App Service Web App</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, May 7, 2018, 6:47 PM +0200" > May 7, 2018 <i class="unloaded">2018-05-07T18:47:57+02:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Aug 9, 2021, 10:41 PM +0200" > Aug 9 <i class="unloaded">2021-08-09T22:41:12+02:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2339 words">27 min</span></div></div><div class="post-content"><p>Azure Web App provides a managed service for hosting your web applications and APIs with infrastructure services such as security, load balancing, and scaling provided as part of the service. Additionally, it has integrated DevOps experience from code repositories and from Docker image repositories. You pay for computing resources according to your App Service Plan and scale settings.</p><h2 id="define-and-manage-app-service-plans">Define and manage App Service plans</h2><p>An App Service plan defines the supported feature set and capacity of a group of virtual machine resources that are hosting one or more web apps, logic apps, mobile apps, or API apps.</p><p>Each App Service plan is configured with a pricing tier. There are four pricing tiers available: Free, Shared, Basic, and Standard). An App Service plan is unique to the region, resource group, and subscription.</p><h3 id="creating-a-new-app-service-plan">Creating a new App Service plan</h3><p>To create a new App Service plan, follow these steps:</p><ol><li>In the Azure portal, click on +Create a resource, search for App Service Plan and click Create.<li>On the New App Service Plan blade, provide an App service plan name, subscription, resource group, operating system, location, and pricing tier.<li>Click Create.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Create-a-new-App-Service-plan.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Create-a-new-App-Service-plan.jpg" alt="Create a new App Service plan" /></a><p> Create a new App Service plan</p></div><h3 id="creating-a-new-web-app">Creating a new Web App</h3><p>To create a new Web App, follow these steps:</p><ol><li>In the Azure portal, click on +Create a resource, search for Web App and click Create.<li>On the Web App blade, provide an App name, subscription, resource group, OS, and  App Service plan. You can take either the previously created one or create a new one.<li>Click Create.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Create-a-new-Web-App.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Create-a-new-Web-App.jpg" alt="Create a new Web App" /></a><p> Create a new Web App</p></div><h3 id="review-app-service-plan-settings">Review App Service plan settings</h3><p>After you have created a new App Service plan, you can change the settings, following these steps:</p><ol><li>In the Azure portal, open your App Service plans. There you can see all your App Service plans, the number of apps deployed for each plan and its pricing tier.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/An-overview-of-my-App-Service-plans.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/An-overview-of-my-App-Service-plans.jpg" alt="An overview of my App Service plans" /></a><p> An overview of my App Service plans</p></div><ol start="2"><li> Click on your App Service plan to manage its settings.<li> You can scale up or scale out your Service plan or you can integrate a VNET.</ol><h2 id="configure-web-app-settings">Configure Web App settings</h2><p>You can configure the following groups of settings for your Web App application:</p><ul><li>Load balancing<li>IIS related settings<li>App settings and connection strings<li>Slot management<li>Debugging<li>Application type and library versions</ul><h3 id="configure-web-app-settings-in-the-azure-portal">Configure Web App settings in the Azure Portal</h3><p>To manage your Web App settings, follow these steps:</p><ol><li>In the Azure portal, open the Webb App, you want to configure and select Application settings under the Settings menu.<li>On the Application settings, you can choose the following settings:<ul><li>Select language support for .NET, PHP, Python, or Java and set the desired version of the language.<li>Choose between a 32 or 64 bit runtime environment.<li>Enable or disable web sockets.<li>Enable Always On. This configures that the web application will be kept in the memory all the time. Therefore the load time for the next request is reduced.<li>Chose the type of pipeline for IIS. Integrated is the more modern pipeline and Classic would only be used for legacy applications.</ul></ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Change-the-language-and-runtime-settings-of-your-application.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Change-the-language-and-runtime-settings-of-your-application.jpg" alt="Change the language and runtime settings of your application" /></a><p> Change the language and runtime settings of your application</p></div><ol start="3"><li> Turn on ARR Affinity to enable sticky sessions. Sticky session means that a user will always be routed to the same host machine. The downside of sticky sessions is that the performance might be lower.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/ARR-Affinity-settings.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/ARR-Affinity-settings.jpg" alt="ARR Affinity settings" /></a><p> ARR Affinity settings</p></div><ol start="4"><li> When you first create your web app, the auto swap settings are disabled. You must first create a new slot and from the slow, you may configure auto swap to another slot.<li> The next setting is a really cool one, remote debugging. Enable remote debugging if you run into situations where deployed applications are not functioning as expected. Remote debugging can be enabled for Visual Studio 2012 &#8211; 2017.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Remote-debugging.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Remote-debugging.jpg" alt="Remote debugging" /></a><p> Remote debugging</p></div><ol start="6"><li> The application settings override any settings with the same name from your application. The connection strings override the matching ones from your application as well. The value of the connection string is hidden unless you click on it.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Application-and-connection-settings.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Application-and-connection-settings.jpg" alt="Application and connection settings" /></a><p> Application and connection settings</p></div><h2 id="configure-web-app-certificates-and-custom-domains">Configure Web App certificates and custom domains</h2><p>When you first create your web app, it is accessible through yourwebappname.azurewebsites.net. To map to a more user-friendly domain, you must set up a custom domain name.</p><p>If you use HTTPS, you need to utilize an SSL certificate. You can use your SSL certificate with your web app in one of two ways:</p><ol><li>You can use the built-in wildcard SSL certificate that is associated with the *.azurewebsites.net domain.<li>More commonly you use a certificate you can purchase for your custom domain from a third-party authority.</ol><h3 id="mapping-custom-domain-names">Mapping custom domain names</h3><p>The mapping is captured in domain name system (DNS) records that are maintained by your domain registrar. Two types of DNS records effectively express this purpose:</p><ol><li>A records (address records) map your domain name to the UP address of your website.<li>CNAME records (alias records) map a subdomain of your custom domain name to the canonical name of your website,</ol><p>CNAME records enable you to map only subdomains.</p><h3 id="configuring-a-custom-domain">Configuring a custom domain</h3><p>You need to access your domain registrar setup for the domain while also editing the configuration for your web app in the Azure portal. Note that custom domain names are not supported by the Free App service plan pricing tier.</p><p>To configure a custom domain, follow these steps:</p><ol><li>In the Azure portal, go to your Web App and select Custom domains under the Settings menu. Custom domains are not available on the Free pricing tier.<li>On the Custom domains blade, click on +Add hostname and enter your Hostname. Then choose if you want to set up an A record or CNAME record.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Add-a-hostname-for-your-custom-domain.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Add-a-hostname-for-your-custom-domain.jpg" alt="Add a hostname for your custom domain" /></a><p> Add a hostname for your custom domain</p></div><ol start="3"><li> To set up an A record, select A Record and follow the instruction in the blade. The instructions are:<ul><li> First add a TXT record at your domain name registrar, pointing to the default Azure domain for your web app, to verify you own the domain name. The new TXT record should point to yourwebappname.azurewebsites.net.<li> Additionally, add an A record pointing to the IP address shown on the blade, for your web app.</ul><li> To set up a CNAME record, select CNAME Record and follow the instruction in the blade. The instructions are:<ul><li> If using a CNAME record, following the instructions provided by your domain name registrar, add a new CNAME record with the name of the subdomain, and for the value, specify your web app&#8217;s default Azure domain with yourwebappname.azurewebsites.net.</ul><li> Save your DNS changes. Note that it may take up to 48 hours to propagate the changes across DNS.<li> Click Add Hostname again to configure your custom domain. Enter the domain name and select Validate again. If validation passed, select Add Hostname to complete the assignment.</ol><h3 id="configure-ssl-certificates">Configure SSL certificates</h3><p>To configure SSL certificates for your custom domain, you need to have access to an SSL certificate that includes your custom domain name, including the CNAME if it is not a wildcard certificate.</p><p>To assign an SSL certificate, follow these steps:</p><ol><li>In the Azure portal, go to your Web App and select SSL Configuration under the Settings menu.<li>On the SSL settings blade, import an existing certificate, or upload a new one.<li>Select Add Binding to set up the correct binding. You can set up binding that point at your naked domain (programmingwithwolfgang.com), or to a particular CNAME (www.programmingwithwolfgang.com), as long as the certificate supports it.<li>Select ServerName Indication (SNI) or IP Based SSL as SSL Type.</ol><h2 id="manage-web-apps-by-using-the-api-azure-powershell-and-xplat-cli">Manage Web Apps by using the API, Azure PowerShell, and Xplat-CLI</h2><p>Additionally, to managing your Web App in the Azure portal, programmatic or script-based access is available.</p><p>The following options are available:</p><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><tr><td> Configuration Method<td> Description<tr><td> Azure Resource Manager (ARM)<td> Azure Resource Manager provides a consistent management layer for the management tasks you can perform using PowerShell, Azure CLI, Azure portal, REST API, and other development tools.<tr><td> REST API<td> The REST API enables you to deploy and manage Azure infrastructure resources using HTTP request and JSON payloads.<tr><td> PowerShell<td> PowerShell provides cmdlets for interacting with ARM to manage infrastructure resources. The PowerShell modules can be installed to Windows, macOS, or Linux.<tr><td> Azure CL<td> Azure CLI (also known as XplatCLI) is a command line experience for managing Azure resources. This is an open source SDK that works on Windows, macOS, and Linux platforms to create, manage, and monitor web apps.</table></div><h2 id="ImplementDiagnostics">Implement diagnostics, monitoring, and analytics</h2><p>Without diagnostics, monitoring, and analytics, you can’t effectively investigate the cause of a failure, nor can you proactively prevent potential problems before your users experience them. Web Apps provide multiple forms of logs, features for monitoring availability and automatically sending an email alert when the availability crosses a threshold, features for monitoring your web app resource usage, and integration with Azure Analytics via Application Insights.</p><p>App Services are also governed by quotas depending on the App Service plan you have chosen. Free and Shared apps have CPU, memory, bandwidth, and file system quotas. When reached, the web app no longer runs until the next cycle, or the App Service plan is changed. Basic, Standard, and Premium App Services are only limited by file system quotas based on the SKU size selected for the host.</p><h3 id="configure-diagnostic-logs">Configure diagnostic logs</h3><p>There are five different types of logs:</p><div class="table-responsive"><table class="table table-striped table-bordered table-hover"><tr><td> Log<td> Description<tr><td> Event Log<td> The Event logs are equivalent to the Windows Event Log on a Windows Server. It is useful for capturing unhandled exceptions. Only one XML file is created per web app.<tr><td> Web server logs<td> Web server logs are textual files that create a text entry for each HTTP request to the web app.<tr><td> Detailed error message logs<td> These HTML flies are generated by the web server and log the error messages for failed requests that result in an HTTP status code of 400 or higher. One error message is captured per HTML file.<tr><td> Failed request tracing logs<td> Additionally to the error message, the stack trace that led to a failed HTTP request is captured in these XML documents that are present with an XSL style sheet for in-browser consumption. One failed request trace is captured per XML file.<tr><td> Application diagnostic logs<td> These text-based trace logs are created by web application code in a manner specific to the platform the application is built in using logging or tracing utilities.</table></div><p>To enable these diagnostic settings, follow these steps:</p><ol><li>In the Azure portal, open your Webb App and click Diagnostic logs under the Monitoring menu.<li>On the Diagnostics logs blade, enable your desired logs.<li>If you enabled Application Logging, you have to provide a storage account.<li>If you enabled Web server logging, you have to provide either a storage account or you can log to the file system.<li>Click Save.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Configure-logging-for-your-Web-App-application.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Configure-logging-for-your-Web-App-application.jpg" alt="Configure logging for your Web App application" /></a><p> Configure logging for your Web App application</p></div><ol start="6"><li> If you enabled Application Logging or Web server logging to the file system, you can see the logs as a stream by clicking on Log stream under the Monitoring blade.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Application-log-stream.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Application-log-stream.jpg" alt="Application log stream" /></a><p> Application log stream</p></div><h3 id="configure-endpoint-monitoring">Configure endpoint monitoring</h3><p>You can monitor many different resources such as:</p><ul><li>Average Response Time<li>CPU Time<li>HTTP 2xx<li>Data In<li>Data Out<li>HTTP 3xx<li>HTTP 4xx<li>Requests<li>HTTP Server Errors</ul><p>To customize the shown metrics, follow these steps:</p><ol><li>In the Azure portal, open your Webb App and click on one of the graphs on the Overview blade.<li>On the Metrics blade, add or remove all metrics, you want to display on the graph.<li>Enter a title, select a chart type and set a time range.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Customize-the-metrics-graph.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Customize-the-metrics-graph.jpg" alt="Customize the metrics graph" /></a><p> Customize the metrics graph</p></div><ol start="4"><li> Additionally, you can set an alarm, so you get an email when a certain threshold is reached, for example, 90% CPU usage.<li> Click Save and close.</ol><h2 id="design-and-configure-a-web-app-for-scale-and-resilience">Design and configure a Web App for scale and resilience</h2><p>App Services can scale up and down by adjusting the instance size and scale out or in by changing the number of instances serving requests. Scaling can be configured to be automatic. The advantage of automatic scaling up or out is that at peaks the resources are increased. As a result, your customers don’t experience any problems with the performance. During less busy hours, scaling down or helps you to save costs.</p><p>Additionally, to scaling within the same datacenter, you can also scale a web app by deploying to multiple regions around the globe and then utilizing Microsoft Azure Traffic Manager to direct web app traffic to the appropriate region based on a round-robin strategy or according to performance. Alternately, you can configure Traffic Manager to use alternate regions as targets for failover if the primary region becomes unavailable.</p><h3 id="configure-scaling">Configure scaling</h3><p>To configure scaling for your web app, follow these steps.</p><ol><li>In the Azure portal, open your Service Plan and click Scale up under the Settings blade.<li>On the Scale up blade, select your desired pricing tier and click Apply.<li>Select Scale out under the Settings blade and select the desired instance count to scale out to.</ol><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2018/05/Configure-scaling-out.jpg"><img loading="lazy" src="/assets/img/posts/2018/05/Configure-scaling-out.jpg" alt="Configure scaling out" /></a><p> Configure scaling out</p></div><ol start="4"><li> If you select Enable autoscale, you can create conditions based on metrics and rules in order for the site to automatically scale out or in.</ol><h2 id="conclusion">Conclusion</h2><p>This post talked about how App Service is created and how the settings can be changed. Then, I showed that you can configure your Web App directly in the Azure portal and that you can override the settings from your application can be overridden.</p><p>Next, I showed how to apply a custom domain and an SSL certificate to your Web App. Note that certificates and custom domains are not supported by the Free pricing tier.</p><p>After the custom domain and SSL was configured, I showed how to enable various logs and how to customize the monitoring graphs to give you exactly the information you need.</p><p>The last section talked about scaling out or up to increase the used resources and scaling in or down to save costs during less busy hours.</p><p>For more information about the 70-532 exam get the <a href="http://amzn.to/2EWNWMF" target="_blank" rel="noopener">Exam Ref book from Microsoft</a> and continue reading my blog posts. I am covering all topics needed to pass the exam. You can find an overview of all posts related to the 70-532 exam <a href="/prepared-for-the-70-532-exam/" target="_blank" rel="noopener">here</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/cloud/'>Cloud</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/70-532/" class="post-tag no-text-decoration" >70-532</a> <a href="/tags/azure/" class="post-tag no-text-decoration" >Azure</a> <a href="/tags/certification/" class="post-tag no-text-decoration" >Certification</a> <a href="/tags/exam/" class="post-tag no-text-decoration" >Exam</a> <a href="/tags/learning/" class="post-tag no-text-decoration" >Learning</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Design Azure App Service Web App - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Design Azure App Service Web App - Programming With Wolfgang&u=https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Design Azure App Service Web App - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/microservice-series-from-zero-to-hero/">Microservice Series - From Zero to Hero</a><li><a href="/keda-kubernetes-event-driven-autoscalling/">KEDA - Kubernetes Event-driven Autoscaling</a><li><a href="/rabbitmq-in-an-asp-net-core-3-1-microservice/">RabbitMQ in an ASP .NET Core 3.1 Microservice</a><li><a href="/net-core-3-0-whats-new/">.NET Core 3.0 - What's new</a><li><a href="/microservices-getting-started/">Microservices - Getting Started</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/prepared-for-the-70-532-exam/"><div class="card-body"> <span class="timeago small" > Feb 23, 2018 <i class="unloaded">2018-02-23T14:33:48+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How I prepared for the 70-532 Exam</h3><div class="text-muted small"><p> Recently I started to prepare for the Microsoft certification exam 70-532 “Developing Microsoft Azure Solutions” using the official Exam Ref book. This post contains a comprehensive list of blog po...</p></div></div></a></div><div class="card"> <a href="/deploy-workload-on-azure-arm-virtual-machines/"><div class="card-body"> <span class="timeago small" > Mar 5, 2018 <i class="unloaded">2018-03-05T14:18:57+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Deploy workload on Azure ARM virtual machines</h3><div class="text-muted small"><p> Azure ARM virtual machines can run a lot of different operating systems. In this posts, I will give an overview of these different types and I will also show how to create them in the Azure Portal....</p></div></div></a></div><div class="card"> <a href="/perform-configuration-management/"><div class="card-body"> <span class="timeago small" > Mar 6, 2018 <i class="unloaded">2018-03-06T12:21:11+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Perform Configuration Management</h3><div class="text-muted small"><p> In this post, I want to show how to use Windows PowerShell Desired State Configuration (DSC) and the VM Agent to perform various configuration management tasks like remote debugging and at the end,...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/implement-azure-search/" class="btn btn-outline-primary"><p>Implement Azure Search</p></a> <a href="/design-azure-app-service-api-apps/" class="btn btn-outline-primary"><p>Design Azure App Service API Apps</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://www.programmingwithwolfgang.com/design-azure-app-service-web-app/'; this.page.identifier = '/design-azure-app-service-web-app/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/aks/">AKS</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/learning/">Learning</a> <a class="post-tag" href="/tags/helm/">Helm</a> <a class="post-tag" href="/tags/yaml/">YAML</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.programmingwithwolfgang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
